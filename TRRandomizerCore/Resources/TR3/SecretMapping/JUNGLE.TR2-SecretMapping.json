{
  "RewardEntities": [
    18,
    19,
    30,
    64,
    65,
    82,
    83,
    119,
    120,
    121,
    122,
    123
  ],

  "Rooms": [
    {
      "RewardPositions": [
        {
          "X": 12800,
          "Y": 24320,
          "Z": 85504
        },
        {
          "X": 12800,
          "Y": 24320,
          "Z": 86528
        },
        {
          "X": 12800,
          "Y": 24320,
          "Z": 87552
        }
      ],

      "Doors": [
        {
          "TypeID": 131,
          "X": 12800,
          "Y": 25600,
          "Z": 77312,
          "Room": 127,
          "Angle": -32768,
          "Intensity1": 6342,
          "Intensity2": 16912
        },
        {
          "TypeID": 131,
          "X": 12800,
          "Y": 24320,
          "Z": 84523,
          "Room": 32767,
          "Angle": -32768,
          "Intensity1": 6342,
          "Intensity2": 16912
        }
      ],

      "Cameras": [
        {
          "X": 10411,
          "Y": 26472,
          "Z": 75101,
          "Room": 127
        }
      ],

      "Room": [
        {
          "Comments": "Make a copy of room 77.",
          "EMType": 123,
          "RoomIndex": 77,
          "NewLocation": {
            "X": 11264,
            "Y": 25600,
            "Z": 76800
          },
          "LinkedLocation": {
            "X": 13781,
            "Y": 26880,
            "Z": 77356,
            "Room": 127
          }
        },

        {
          "Comments": "Make visibility portals between the new room (referenced by short.Max) and room 127.",
          "EMType": 81,
          "Portals": {
            "127": {
              "AdjoiningRoom": 32767,
              "Normal": {
                "X": 0,
                "Y": 0,
                "Z": -1
              },
              "Vertices": [
                {
                  "X": 2048,
                  "Y": 24320,
                  "Z": 11264
                },
                {
                  "X": 3072,
                  "Y": 24064,
                  "Z": 11264
                },
                {
                  "X": 3072,
                  "Y": 25600,
                  "Z": 11264
                },
                {
                  "X": 2048,
                  "Y": 25600,
                  "Z": 11264
                }
              ]
            },
            "32767": {
              "AdjoiningRoom": 127,
              "Normal": {
                "X": 0,
                "Y": 0,
                "Z": 1
              },
              "Vertices": [
                {
                  "X": 2048,
                  "Y": 24576,
                  "Z": 1024
                },
                {
                  "X": 1024,
                  "Y": 24576,
                  "Z": 1024
                },
                {
                  "X": 1024,
                  "Y": 25600,
                  "Z": 1024
                },
                {
                  "X": 2048,
                  "Y": 25600,
                  "Z": 1024
                }
              ]
            }
          }
        },

        {
          "Comments": "Make collisional portals between the new room (referenced by short.Max) and room 127.",
          "EMType": 82,
          "Portals": {
            "127": {
              "32767": [
                {
                  "X": 12816,
                  "Y": 26880,
                  "Z": 77931
                }
              ]
            },
            "32767": {
              "127": [
                {
                  "X": 12806,
                  "Y": 26880,
                  "Z": 77769
                }
              ]
            }
          }
        },

        {
          "Comments": "Make way in room 127 for the new portal, and block off portals from the previous room 77.",
          "EMType": 23,
          "Modifications": [
            {
              "RoomNumber": 127,
              "FaceType": 0,
              "FaceIndex": 35,
              "VertexChanges": {
                "2": {
                  "X": 0,
                  "Y": -1024,
                  "Z": 0
                },
                "3": {
                  "X": 0,
                  "Y": -1024,
                  "Z": 0
                }
              }
            },
            {
              "RoomNumber": 32767,
              "FaceType": 0,
              "FaceIndex": 3,
              "VertexChanges": {
                "0": {
                  "X": -1024,
                  "Y": 0,
                  "Z": 1024
                },
                "1": {
                  "X": 0,
                  "Y": 0,
                  "Z": 2048
                },
                "2": {
                  "X": 0,
                  "Y": 0,
                  "Z": 2048
                },
                "3": {
                  "X": -1024,
                  "Y": 0,
                  "Z": 1024
                }
              }
            },
            {
              "RoomNumber": 32767,
              "FaceType": 0,
              "FaceIndex": 35,
              "VertexChanges": {
                "0": {
                  "X": 0,
                  "Y": 512,
                  "Z": 0
                },
                "1": {
                  "X": 0,
                  "Y": 512,
                  "Z": 0
                }
              }
            }
          ]
        },

        {
          "Comments": "Change what was the old lever texture into something else.",
          "EMType": 21,
          "TextureMap": {
            "1620": {
              "32767": {
                "Rectangles": [
                  38
                ]
              }
            }
          }
        },

        {
          "Comments": "Copy lighting and colour attributes to brighten up the new room.",
          "EMType": 124,
          "RoomMap": {
            "32767": {
              "Attributes": 16,
              "Colour": 3171,
              "Lighting": 3171
            }
          }
        },

        {
          "Comments": "Add a music trigger beside the rewards.",
          "EMType": 61,
          "TriggerEntry": {
            "Setup": {
              "Value": 4
            },
            "TrigSetup": {
              "Value": 15872,
              "OneShot": true
            },
            "TrigType": 0,
            "TrigActionList": [
              {
                "TrigAction": 8,
                "Parameter": 91
              }
            ]
          },
          "Locations": [
            {
              "X": 12828,
              "Y": 24320,
              "Z": 85560,
              "Room": 32767
            }
          ]
        }
      ]
    },

    {
      "RewardPositions": [
        {
          "X": 12800,
          "Y": 25600,
          "Z": 79360
        },
        {
          "X": 12800,
          "Y": 25600,
          "Z": 80384
        },
        {
          "X": 13824,
          "Y": 25600,
          "Z": 80384
        },
        {
          "X": 14848,
          "Y": 25600,
          "Z": 80384
        },
        {
          "X": 15872,
          "Y": 25600,
          "Z": 80384
        }
      ],

      "Doors": [
        {
          "TypeID": 131,
          "X": 12800,
          "Y": 25600,
          "Z": 77312,
          "Room": 127,
          "Angle": -32768,
          "Intensity1": 6342,
          "Intensity2": 16912
        },
        {
          "TypeID": 131,
          "X": 12800,
          "Y": 25600,
          "Z": 78336,
          "Room": 32767,
          "Angle": -32768,
          "Intensity1": 6342,
          "Intensity2": 16912
        }
      ],

      "Cameras": [
        {
          "X": 10411,
          "Y": 26472,
          "Z": 75101,
          "Room": 127
        }
      ],

      "Room": [
        {
          "Comments": "Make a copy of room 117.",
          "EMType": 123,
          "RoomIndex": 117,
          "NewLocation": {
            "X": 11264,
            "Y": 25600,
            "Z": 76800
          },
          "LinkedLocation": {
            "X": 13781,
            "Y": 26880,
            "Z": 77356,
            "Room": 127
          }
        },

        {
          "Comments": "Make visibility portals between the new room (referenced by short.Max) and room 127.",
          "EMType": 81,
          "Portals": {
            "127": {
              "AdjoiningRoom": 32767,
              "Normal": {
                "X": 0,
                "Y": 0,
                "Z": -1
              },
              "Vertices": [
                {
                  "X": 2048,
                  "Y": 24320,
                  "Z": 11264
                },
                {
                  "X": 3072,
                  "Y": 24064,
                  "Z": 11264
                },
                {
                  "X": 3072,
                  "Y": 25600,
                  "Z": 11264
                },
                {
                  "X": 2048,
                  "Y": 25600,
                  "Z": 11264
                }
              ]
            },
            "32767": {
              "AdjoiningRoom": 127,
              "Normal": {
                "X": 0,
                "Y": 0,
                "Z": 1
              },
              "Vertices": [
                {
                  "X": 2048,
                  "Y": 24576,
                  "Z": 1024
                },
                {
                  "X": 1024,
                  "Y": 24576,
                  "Z": 1024
                },
                {
                  "X": 1024,
                  "Y": 25600,
                  "Z": 1024
                },
                {
                  "X": 2048,
                  "Y": 25600,
                  "Z": 1024
                }
              ]
            }
          }
        },

        {
          "Comments": "Make collisional portals between the new room (referenced by short.Max) and room 127.",
          "EMType": 82,
          "Portals": {
            "127": {
              "32767": [
                {
                  "X": 12816,
                  "Y": 26880,
                  "Z": 77931
                }
              ]
            },
            "32767": {
              "127": [
                {
                  "X": 12806,
                  "Y": 26880,
                  "Z": 77769
                }
              ]
            }
          }
        },

        {
          "Comments": "Make way in room 127 for the new portal.",
          "EMType": 23,
          "Modifications": [
            {
              "RoomNumber": 127,
              "FaceType": 0,
              "FaceIndex": 35,
              "VertexChanges": {
                "2": {
                  "X": 0,
                  "Y": -1024,
                  "Z": 0
                },
                "3": {
                  "X": 0,
                  "Y": -1024,
                  "Z": 0
                }
              }
            }
          ]
        },

        {
          "Comments": "Change what was the old lever texture into something else.",
          "EMType": 21,
          "TextureMap": {
            "1636": {
              "32767": {
                "Rectangles": [
                  24
                ]
              }
            }
          }
        },

        {
          "Comments": "Copy lighting and colour attributes to brighten up the new room.",
          "EMType": 124,
          "RoomMap": {
            "32767": {
              "Attributes": 16,
              "Colour": 3171,
              "Lighting": 3171
            }
          }
        },

        {
          "Comments": "Add a music trigger beside the rewards.",
          "EMType": 61,
          "TriggerEntry": {
            "Setup": {
              "Value": 4
            },
            "TrigSetup": {
              "Value": 15872,
              "OneShot": true
            },
            "TrigType": 0,
            "TrigActionList": [
              {
                "TrigAction": 8,
                "Parameter": 83
              }
            ]
          },
          "Locations": [
            {
              "X": 12800,
              "Y": 25600,
              "Z": 79360,
              "Room": 32767
            }
          ]
        }
      ]
    },

    {
      "RewardPositions": [
        {
          "X": 9728,
          "Y": 25856,
          "Z": 70144
        },
        {
          "X": 8712,
          "Y": 25856,
          "Z": 70144
        },
        {
          "X": 7688,
          "Y": 25856,
          "Z": 70144
        },
        {
          "X": 7688,
          "Y": 25856,
          "Z": 69120
        },
        {
          "X": 7688,
          "Y": 25856,
          "Z": 68096
        }
      ],

      "Doors": [
        {
          "TypeID": 131,
          "X": 11776,
          "Y": 25856,
          "Z": 70144,
          "Room": 127,
          "Angle": 16384,
          "Intensity1": 6342,
          "Intensity2": 16912
        },
        {
          "TypeID": 131,
          "X": 10752,
          "Y": 25856,
          "Z": 70144,
          "Room": 32767,
          "Angle": 16384,
          "Intensity1": 6342,
          "Intensity2": 16912
        }
      ],

      "Cameras": [
        {
          "X": 14737,
          "Y": 26241,
          "Z": 73835,
          "Room": 127
        }
      ],

      "Room": [
        {
          "Comments": "Make a copy of room 117.",
          "EMType": 123,
          "RoomIndex": 117,
          "NewLocation": {
            "X": 6144,
            "Y": 25856,
            "Z": 66560
          },
          "LinkedLocation": {
            "X": 12866,
            "Y": 27024,
            "Z": 70969,
            "Room": 127
          }
        },

        {
          "Comments": "Make visibility portals between the new room (referenced by short.Max) and room 127.",
          "EMType": 81,
          "Portals": {
            "127": {
              "AdjoiningRoom": 32767,
              "Normal": {
                "X": 1,
                "Y": 0,
                "Z": 0
              },
              "Vertices": [
                {
                  "X": 1024,
                  "Y": 24832,
                  "Z": 3072
                },
                {
                  "X": 1024,
                  "Y": 24832,
                  "Z": 4096
                },
                {
                  "X": 1024,
                  "Y": 25856,
                  "Z": 4096
                },
                {
                  "X": 1024,
                  "Y": 25856,
                  "Z": 3072
                }
              ]
            },
            "32767": {
              "AdjoiningRoom": 127,
              "Normal": {
                "X": -1,
                "Y": 0,
                "Z": 0
              },
              "Vertices": [
                {
                  "X": 5120,
                  "Y": 24832,
                  "Z": 4096
                },
                {
                  "X": 5120,
                  "Y": 24832,
                  "Z": 3072
                },
                {
                  "X": 5120,
                  "Y": 25856,
                  "Z": 3072
                },
                {
                  "X": 5120,
                  "Y": 25856,
                  "Z": 4096
                }
              ]
            }
          }
        },

        {
          "Comments": "Make collisional portals between the new room (referenced by short.Max) and room 127.",
          "EMType": 82,
          "Portals": {
            "127": {
              "32767": [
                {
                  "X": 10815,
                  "Y": 25856,
                  "Z": 70128
                }
              ]
            },
            "32767": {
              "127": [
                {
                  "X": 11397,
                  "Y": 25989,
                  "Z": 70090
                }
              ]
            }
          }
        },

        {
          "Comments": "Make way in room 127 for the new portal and move the face on what's now a portal to the other end of the new room.",
          "EMType": 23,
          "Modifications": [
            {
              "RoomNumber": 127,
              "FaceType": 0,
              "FaceIndex": 4,
              "VertexChanges": {
                "2": {
                  "X": 0,
                  "Y": -1024,
                  "Z": 0
                },
                "3": {
                  "X": 0,
                  "Y": -1024,
                  "Z": 0
                }
              }
            },

            {
              "RoomNumber": 32767,
              "FaceType": 0,
              "FaceIndex": 24,
              "VertexChanges": {
                "0": {
                  "X": -3072,
                  "Y": 0,
                  "Z": -3072
                },
                "1": {
                  "X": -4096,
                  "Y": 0,
                  "Z": -2048
                },
                "2": {
                  "X": -4096,
                  "Y": 0,
                  "Z": -2048
                },
                "3": {
                  "X": -3072,
                  "Y": 0,
                  "Z": -3072
                }
              }
            }
          ]
        },

        {
          "Comments": "Copy lighting and colour attributes for the moved face (24) from its neighbour (10).",
          "EMType": 124,
          "FaceMap": {
            "32767": {
              "Rectangles": {
                "10": 24
              }
            }
          }
        },

        {
          "Comments": "Change what was the old lever texture into something else, and adjust the portal texture to avoid squashing.",
          "EMType": 21,
          "TextureMap": {
            "1636": {
              "32767": {
                "Rectangles": [
                  24
                ]
              }
            },
            "2377": {
              "127": {
                "Rectangles": [
                  4
                ]
              }
            }
          }
        },

        {
          "Comments": "Add a music trigger beside the rewards.",
          "EMType": 61,
          "TriggerEntry": {
            "Setup": {
              "Value": 4
            },
            "TrigSetup": {
              "Value": 15872,
              "OneShot": true
            },
            "TrigType": 0,
            "TrigActionList": [
              {
                "TrigAction": 8,
                "Parameter": 82
              }
            ]
          },
          "Locations": [
            {
              "X": 9712,
              "Y": 25856,
              "Z": 70186,
              "Room": 32767
            }
          ]
        }
      ]
    }
  ]
}