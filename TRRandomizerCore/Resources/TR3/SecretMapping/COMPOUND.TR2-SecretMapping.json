{
  "RewardEntities": [
    76,
    240
  ],

  "Rooms": [
    {
      "RewardPositions": [
        {
          "X": 50688,
          "Y": 6144,
          "Z": 47616
        }
      ],

      "Doors": [
        {
          "TypeID": 139,
          "X": 50688,
          "Y": 512,
          "Z": 57856,
          "Room": 32767,
          "Angle": -32768,
          "Intensity1": 6342,
          "Intensity2": 16912
        },
        {
          "TypeID": 133,
          "X": 50688,
          "Y": 2048,
          "Z": 57856,
          "Room": 32767,
          "Angle": 0,
          "Intensity1": 6342,
          "Intensity2": 16912
        }
      ],

      "Cameras": [
        {
          "X": 55036,
          "Y": -3657,
          "Z": 59155,
          "Room": 97
        }
      ],

      "Room": [
        {
          "Comments": "Make a copy of room 153.",
          "EMType": 123,
          "RoomIndex": 153,
          "NewLocation": {
            "X": 49152,
            "Y": 6144,
            "Z": 46080
          },
          "LinkedLocation": {
            "X": 51772,
            "Y": 512,
            "Z": 57880,
            "Room": 99
          }
        },

        {
          "Comments": "Drain the new room.",
          "EMType": 3,
          "RoomNumbers": [ 32767 ]
        },

        {
          "Comments": "Make visibility portals between the new room (referenced by short.Max) and room 99.",
          "EMType": 81,
          "Portals": {
            "99": {
              "AdjoiningRoom": 32767,
              "Normal": {
                "X": 0,
                "Y": -1,
                "Z": 0
              },
              "Vertices": [
                {
                  "X": 2048,
                  "Y": 512,
                  "Z": 6144
                },
                {
                  "X": 1024,
                  "Y": 512,
                  "Z": 6144
                },
                {
                  "X": 1024,
                  "Y": 512,
                  "Z": 7168
                },
                {
                  "X": 2048,
                  "Y": 512,
                  "Z": 7168
                }
              ]
            },
            "32767": {
              "AdjoiningRoom": 99,
              "Normal": {
                "X": 0,
                "Y": 1,
                "Z": 0
              },
              "Vertices": [
                {
                  "X": 1024,
                  "Y": 512,
                  "Z": 12288
                },
                {
                  "X": 2048,
                  "Y": 512,
                  "Z": 12288
                },
                {
                  "X": 1024,
                  "Y": 512,
                  "Z": 11264
                },
                {
                  "X": 2048,
                  "Y": 512,
                  "Z": 11264
                }
              ]
            }
          }
        },

        {
          "Comments": "Make collisional portals between the new room (referenced by short.Max) and room 99.",
          "EMType": 83,
          "Ceiling": {
            "X": 50652,
            "Y": 512,
            "Z": 57885,
            "Room": 99
          },
          "Floor": {
            "X": 50865,
            "Y": 2048,
            "Z": 57997,
            "Room": 32767
          }
        },

        {
          "Comments": "Remove rectangle 0 from room 99.",
          "EMType": 22,
          "GeometryMap": {
            "99": {
              "Rectangles": [ 0 ]
            }
          }
        },

        {
          "Comments": "Patch the gap in the new room.",
          "EMType": 26,
          "Quads": {
            "32767": [
              {
                "Vertices": [
                  3,
                  2,
                  0,
                  1
                ],
                "Texture": 1805
              }
            ]
          }
        },

        {
          "Comments": "Add a music trigger beside the rewards.",
          "EMType": 61,
          "TriggerEntry": {
            "Setup": {
              "Value": 4
            },
            "TrigSetup": {
              "Value": 15872,
              "OneShot": true
            },
            "TrigType": 0,
            "TrigActionList": [
              {
                "TrigAction": 8,
                "Parameter": 83
              }
            ]
          },
          "Locations": [
            {
              "X": 50688,
              "Y": 2048,
              "Z": 56832,
              "Room": 32767
            }
          ]
        }
      ]
    },

    {
      "RewardPositions": [
        {
          "X": 68096,
          "Y": -512,
          "Z": 77312
        },
        {
          "X": 68096,
          "Y": -512,
          "Z": 76288
        },
        {
          "X": 68096,
          "Y": -512,
          "Z": 75264
        },
        {
          "X": 68096,
          "Y": -512,
          "Z": 74240
        }
      ],

      "Doors": [
        {
          "TypeID": 131,
          "X": 68096,
          "Y": -512,
          "Z": 70144,
          "Room": 32767,
          "Angle": -32768,
          "Intensity1": 6342,
          "Intensity2": 16912
        },
        {
          "TypeID": 131,
          "X": 68096,
          "Y": -512,
          "Z": 71168,
          "Room": 32767,
          "Angle": -32768,
          "Intensity1": 6342,
          "Intensity2": 16912
        }
      ],

      "Cameras": [
        {
          "X": 66553,
          "Y": -3296,
          "Z": 67636,
          "Room": 95
        }
      ],

      "Room": [
        {
          "Comments": "Make a copy of room 177.",
          "EMType": 123,
          "RoomIndex": 177,
          "NewLocation": {
            "X": 66560,
            "Y": -512,
            "Z": 69632
          },
          "LinkedLocation": {
            "X": 68051,
            "Y": 512,
            "Z": 70106,
            "Room": 98
          }
        },

        {
          "Comments": "Make visibility portals between the new room (referenced by short.Max) and room 95.",
          "EMType": 81,
          "Portals": {
            "95": {
              "AdjoiningRoom": 32767,
              "Normal": {
                "X": 0,
                "Y": 0,
                "Z": -1
              },
              "Vertices": [
                {
                  "X": 11264,
                  "Y": -1536,
                  "Z": 11264
                },
                {
                  "X": 12288,
                  "Y": -1536,
                  "Z": 11264
                },
                {
                  "X": 12288,
                  "Y": -512,
                  "Z": 11264
                },
                {
                  "X": 11264,
                  "Y": -512,
                  "Z": 11264
                }
              ]
            },
            "32767": {
              "AdjoiningRoom": 95,
              "Normal": {
                "X": 0,
                "Y": 0,
                "Z": 1
              },
              "Vertices": [
                {
                  "X": 2048,
                  "Y": -1536,
                  "Z": 1024
                },
                {
                  "X": 1024,
                  "Y": -1536,
                  "Z": 1024
                },
                {
                  "X": 1024,
                  "Y": -512,
                  "Z": 1024
                },
                {
                  "X": 2048,
                  "Y": -512,
                  "Z": 1024
                }
              ]
            }
          }
        },

        {
          "Comments": "Make collisional portals between the new room (referenced by short.Max) and room 95.",
          "EMType": 82,
          "Portals": {
            "95": {
              "32767": [
                {
                  "X": 68117,
                  "Y": -512,
                  "Z": 71063
                }
              ]
            },
            "32767": {
              "95": [
                {
                  "X": 68117,
                  "Y": -512,
                  "Z": 70551
                }
              ]
            }
          }
        },

        {
          "Comments": "Move walls around for the portal and to patch gaps.",
          "EMType": 23,
          "Modifications": [
            {
              "RoomNumber": 95,
              "FaceType": 0,
              "FaceIndex": 87,
              "VertexChanges": {
                "0": {
                  "Y": 1024
                },
                "1": {
                  "Y": 1024
                }
              }
            }
          ]
        },

        {
          "Comments": "A little retexturing for the above moves.",
          "EMType": 21,
          "TextureMap": {
            "1805": {
              "95": {
                "Rectangles": [ 87 ]
              }
            }
          }
        },

        {
          "Comments": "Patch the gap in the new room.",
          "EMType": 26,
          "Quads": {
            "32767": [
              {
                "Vertices": [
                  11,
                  14,
                  1,
                  0
                ],
                "Texture": 1775
              }
            ]
          }
        },

        {
          "Comments": "Remove rectangle 3 from the new room.",
          "EMType": 22,
          "GeometryMap": {
            "32767": {
              "Rectangles": [ 3 ]
            }
          }
        },

        {
          "Comments": "Add a music trigger beside the rewards.",
          "EMType": 61,
          "TriggerEntry": {
            "Setup": {
              "Value": 4
            },
            "TrigSetup": {
              "Value": 15872,
              "OneShot": true
            },
            "TrigType": 0,
            "TrigActionList": [
              {
                "TrigAction": 8,
                "Parameter": 91
              }
            ]
          },
          "Locations": [
            {
              "X": 68096,
              "Y": -512,
              "Z": 73216,
              "Room": 32767
            }
          ]
        }
      ]
    }
  ]
}