{
  "RewardEntities": [
    76,
    240
  ],
  "Rooms": [
    {
      "RewardPositions": [
        {
          "X": 50688,
          "Z": 47616,
          "Y": 6144,
          "Angle": 16384,
          "Validated": true
        }
      ],
      "Doors": [
        {
          "TypeID": 139,
          "Room": -1,
          "X": 50688,
          "Y": 512,
          "Z": 57856,
          "Angle": -32768,
          "Intensity1": 6342,
          "Intensity2": 16912
        },
        {
          "TypeID": 133,
          "Room": -1,
          "X": 50688,
          "Y": 2048,
          "Z": 57856,
          "Intensity1": 6342,
          "Intensity2": 16912
        }
      ],
      "Cameras": [
        {
          "X": 55036,
          "Y": -3657,
          "Z": 59155,
          "Room": 97
        }
      ],
      "Room": [
        {
          "Comments": "Make a copy of room 153.",
          "EMType": 123,
          "RoomIndex": 153,
          "NewLocation": {
            "X": 49152,
            "Y": 6144,
            "Z": 46080
          },
          "LinkedLocation": {
            "X": 51772,
            "Y": 512,
            "Z": 57880,
            "Room": 99
          }
        },
        {
          "Comments": "Drain the new room.",
          "EMType": 3,
          "RoomNumbers": [
            -1
          ]
        },
        {
          "Comments": "Make visibility portals between the new room and room 99.",
          "EMType": 81,
          "Portals": [
            {
              "BaseRoom": 99,
              "AdjoiningRoom": -1,
              "Normal": {
                "Y": -1
              },
              "Vertices": [
                {
                  "X": 2048,
                  "Y": 512,
                  "Z": 6144
                },
                {
                  "X": 1024,
                  "Y": 512,
                  "Z": 6144
                },
                {
                  "X": 1024,
                  "Y": 512,
                  "Z": 7168
                },
                {
                  "X": 2048,
                  "Y": 512,
                  "Z": 7168
                }
              ]
            },
            {
              "BaseRoom": -1,
              "AdjoiningRoom": 99,
              "Normal": {
                "Y": 1
              },
              "Vertices": [
                {
                  "X": 1024,
                  "Y": 512,
                  "Z": 12288
                },
                {
                  "X": 2048,
                  "Y": 512,
                  "Z": 12288
                },
                {
                  "X": 1024,
                  "Y": 512,
                  "Z": 11264
                },
                {
                  "X": 2048,
                  "Y": 512,
                  "Z": 11264
                }
              ]
            }
          ]
        },
        {
          "Comments": "Make collisional portals between the new room and room 99.",
          "EMType": 83,
          "Ceiling": {
            "X": 50652,
            "Y": 512,
            "Z": 57885,
            "Room": 99
          },
          "Floor": {
            "X": 50865,
            "Y": 2048,
            "Z": 57997,
            "Room": -1
          }
        },
        {
          "Comments": "Remove rectangle 0 from room 99.",
          "EMType": 22,
          "GeometryMap": {
            "99": {
              "Rectangles": [
                0
              ]
            }
          }
        },
        {
          "Comments": "Patch the gap in the new room.",
          "EMType": 26,
          "Quads": {
            "-1": [
              {
                "Vertices": [
                  3,
                  2,
                  0,
                  1
                ],
                "Texture": 1805
              }
            ]
          }
        },
        {
          "Comments": "Add a music trigger beside the rewards.",
          "EMType": 61,
          "Locations": [
            {
              "X": 50688,
              "Y": 2048,
              "Z": 56832,
              "Room": -1
            }
          ],
          "Trigger": {
            "OneShot": true,
            "Mask": 31,
            "Actions": [
              {
                "Action": 8,
                "Parameter": 83
              }
            ]
          }
        }
      ]
    },
    {
      "RewardPositions": [
        {
          "X": 68096,
          "Z": 77312,
          "Y": -512,
          "Angle": 16384,
          "Validated": true
        },
        {
          "X": 68096,
          "Z": 76288,
          "Y": -512,
          "Angle": 16384,
          "Validated": true
        },
        {
          "X": 68096,
          "Z": 75264,
          "Y": -512,
          "Angle": 16384,
          "Validated": true
        },
        {
          "X": 68096,
          "Z": 74240,
          "Y": -512,
          "Angle": 16384,
          "Validated": true
        }
      ],
      "Doors": [
        {
          "TypeID": 131,
          "Room": -1,
          "X": 68096,
          "Y": -512,
          "Z": 70144,
          "Angle": -32768,
          "Intensity1": 6342,
          "Intensity2": 16912
        },
        {
          "TypeID": 131,
          "Room": -1,
          "X": 68096,
          "Y": -512,
          "Z": 71168,
          "Angle": -32768,
          "Intensity1": 6342,
          "Intensity2": 16912
        }
      ],
      "Cameras": [
        {
          "X": 66553,
          "Y": -3296,
          "Z": 67636,
          "Room": 95
        }
      ],
      "Room": [
        {
          "Comments": "Make a copy of room 177.",
          "EMType": 123,
          "RoomIndex": 177,
          "NewLocation": {
            "X": 66560,
            "Y": -512,
            "Z": 69632
          },
          "LinkedLocation": {
            "X": 68051,
            "Y": 512,
            "Z": 70106,
            "Room": 98
          }
        },
        {
          "Comments": "Make visibility portals between the new room and room 95.",
          "EMType": 81,
          "Portals": [
            {
              "BaseRoom": 95,
              "AdjoiningRoom": -1,
              "Normal": {
                "Z": -1
              },
              "Vertices": [
                {
                  "X": 11264,
                  "Y": -1536,
                  "Z": 11264
                },
                {
                  "X": 12288,
                  "Y": -1536,
                  "Z": 11264
                },
                {
                  "X": 12288,
                  "Y": -512,
                  "Z": 11264
                },
                {
                  "X": 11264,
                  "Y": -512,
                  "Z": 11264
                }
              ]
            },
            {
              "BaseRoom": -1,
              "AdjoiningRoom": 95,
              "Normal": {
                "Z": 1
              },
              "Vertices": [
                {
                  "X": 2048,
                  "Y": -1536,
                  "Z": 1024
                },
                {
                  "X": 1024,
                  "Y": -1536,
                  "Z": 1024
                },
                {
                  "X": 1024,
                  "Y": -512,
                  "Z": 1024
                },
                {
                  "X": 2048,
                  "Y": -512,
                  "Z": 1024
                }
              ]
            }
          ]
        },
        {
          "Comments": "Make collisional portals between the new room and room 95.",
          "EMType": 82,
          "Portals": {
            "95": {
              "-1": [
                {
                  "X": 68117,
                  "Y": -512,
                  "Z": 71063
                }
              ]
            },
            "-1": {
              "95": [
                {
                  "X": 68117,
                  "Y": -512,
                  "Z": 70551
                }
              ]
            }
          }
        },
        {
          "Comments": "Move walls around for the portal and to patch gaps.",
          "EMType": 23,
          "Modifications": [
            {
              "RoomNumber": 95,
              "FaceIndex": 87,
              "VertexChanges": {
                "0": {
                  "Y": 1024
                },
                "1": {
                  "Y": 1024
                }
              }
            }
          ]
        },
        {
          "Comments": "A little retexturing for the above moves.",
          "EMType": 21,
          "TextureMap": {
            "1805": {
              "95": {
                "Rectangles": [
                  87
                ]
              }
            }
          }
        },
        {
          "Comments": "Patch the gap in the new room.",
          "EMType": 26,
          "Quads": {
            "-1": [
              {
                "Vertices": [
                  11,
                  14,
                  1,
                  0
                ],
                "Texture": 1775
              }
            ]
          }
        },
        {
          "Comments": "Remove rectangle 3 from the new room.",
          "EMType": 22,
          "GeometryMap": {
            "-1": {
              "Rectangles": [
                3
              ]
            }
          }
        },
        {
          "Comments": "Add a music trigger beside the rewards.",
          "EMType": 61,
          "Locations": [
            {
              "X": 68096,
              "Y": -512,
              "Z": 73216,
              "Room": -1
            }
          ],
          "Trigger": {
            "OneShot": true,
            "Mask": 31,
            "Actions": [
              {
                "Action": 8,
                "Parameter": 91
              }
            ]
          }
        }
      ]
    },
    {
      "RewardPositions": [
        {
          "X": 61952,
          "Z": 60928,
          "Y": -2560,
          "Angle": 16384,
          "Validated": true
        },
        {
          "X": 60928,
          "Z": 60928,
          "Y": -2560,
          "Angle": 16384,
          "Validated": true
        }
      ],
      "Doors": [
        {
          "TypeID": 139,
          "Room": 94,
          "X": 61952,
          "Y": -2560,
          "Z": 62976,
          "Angle": -16384,
          "Intensity2": 16912
        },
        {
          "TypeID": 131,
          "Room": -1,
          "X": 61952,
          "Y": -2560,
          "Z": 62976,
          "Intensity1": 6342,
          "Intensity2": 16912
        }
      ],
      "Room": [
        {
          "Comments": "Make a copy of room 84.",
          "EMType": 123,
          "RoomIndex": 84,
          "NewLocation": {
            "X": 59392,
            "Y": -2560,
            "Z": 59392
          },
          "LinkedLocation": {
            "X": 62188,
            "Y": -1280,
            "Z": 62795,
            "Room": 94
          }
        },
        {
          "Comments": "Make visibility portals between the new room and room 94.",
          "EMType": 81,
          "Portals": [
            {
              "BaseRoom": 94,
              "AdjoiningRoom": -1,
              "Normal": {
                "Y": 1
              },
              "Vertices": [
                {
                  "X": 5120,
                  "Y": -2560,
                  "Z": 1024
                },
                {
                  "X": 6144,
                  "Y": -2560,
                  "Z": 1024
                },
                {
                  "X": 6144,
                  "Y": -2560,
                  "Z": 2048
                },
                {
                  "X": 5120,
                  "Y": -2560,
                  "Z": 2048
                }
              ]
            },
            {
              "BaseRoom": -1,
              "AdjoiningRoom": 94,
              "Normal": {
                "Y": -1
              },
              "Vertices": [
                {
                  "X": 3072,
                  "Y": -2560,
                  "Z": 3072
                },
                {
                  "X": 2048,
                  "Y": -2560,
                  "Z": 3072
                },
                {
                  "X": 2048,
                  "Y": -2560,
                  "Z": 4096
                },
                {
                  "X": 3072,
                  "Y": -2560,
                  "Z": 4096
                }
              ]
            }
          ]
        },
        {
          "Comments": "Make collisional portals between the new room and room 94.",
          "EMType": 83,
          "Ceiling": {
            "X": 61952,
            "Y": -2560,
            "Z": 62976,
            "Room": -1
          },
          "Floor": {
            "X": 61952,
            "Y": -1280,
            "Z": 62976,
            "Room": 94
          }
        },
        {
          "Comments": "Patch the gaps in the new room.",
          "EMType": 26,
          "Quads": {
            "-1": [
              {
                "Vertices": [
                  4,
                  8,
                  11,
                  2
                ],
                "Texture": 1786
              },
              {
                "Vertices": [
                  33,
                  18,
                  17,
                  31
                ],
                "Texture": 1786
              },
              {
                "Vertices": [
                  15,
                  30,
                  34,
                  14
                ],
                "Texture": 1786
              },
              {
                "Vertices": [
                  2,
                  11,
                  1,
                  0
                ],
                "Texture": 1805
              },
              {
                "Vertices": [
                  31,
                  17,
                  19,
                  20
                ],
                "Texture": 1805
              },
              {
                "Vertices": [
                  14,
                  34,
                  28,
                  16
                ],
                "Texture": 1805
              }
            ]
          }
        },
        {
          "Comments": "Remove rectangle 44 from room 94 and 16 from the new room to clear the portal.",
          "EMType": 22,
          "GeometryMap": {
            "94": {
              "Rectangles": [
                44
              ]
            },
            "-1": {
              "Rectangles": [
                16
              ]
            }
          }
        },
        {
          "Comments": "Add a music trigger beside the rewards.",
          "EMType": 61,
          "Locations": [
            {
              "X": 61952,
              "Y": -2560,
              "Z": 61952,
              "Room": -1
            }
          ],
          "Trigger": {
            "OneShot": true,
            "Mask": 31,
            "Actions": [
              {
                "Action": 8,
                "Parameter": 91
              }
            ]
          }
        }
      ],
      "UsageCondition": {
        "Comments": "This room is used only when room 94 contains a secret.",
        "ConditionType": 1,
        "RoomIndex": 94
      }
    }
  ]
}