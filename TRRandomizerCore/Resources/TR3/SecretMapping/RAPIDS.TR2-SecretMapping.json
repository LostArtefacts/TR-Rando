{
  "RewardEntities": [
    13,
    27,
    28,
    74
  ],

  "Rooms": [
    {
      "RewardPositions": [
        {
          "X": 60928,
          "Y": 17408,
          "Z": 76288
        },
        {
          "X": 59904,
          "Y": 17408,
          "Z": 76288
        },
        {
          "X": 58880,
          "Y": 17408,
          "Z": 76288
        }
      ],

      "Doors": [
        {
          "TypeID": 139,
          "X": 56832,
          "Y": 14336,
          "Z": 76288,
          "Room": 32767,
          "Angle": 16384,
          "Intensity1": 6342,
          "Intensity2": 16912
        },
        {
          "TypeID": 131,
          "X": 57856,
          "Y": 17408,
          "Z": 76288,
          "Room": 32767,
          "Angle": -16384,
          "Intensity1": 6342,
          "Intensity2": 16912
        }
      ],

      "Cameras": [
        {
          "X": 53018,
          "Y": 12012,
          "Z": 74393,
          "Room": 93
        }
      ],

      "Room": [
        {
          "Comments": "Make a copy of room 57.",
          "EMType": 123,
          "RoomIndex": 57,
          "NewLocation": {
            "X": 55296,
            "Y": 17408,
            "Z": 74752
          },
          "LinkedLocation": {
            "X": 56662,
            "Y": 13056,
            "Z": 72700,
            "Room": 96
          }
        },

        {
          "Comments": "Make visibility portals between the new room (referenced by short.Max) and room 137.",
          "EMType": 81,
          "Portals": {
            "137": {
              "AdjoiningRoom": 32767,
              "Normal": {
                "X": 0,
                "Y": -1,
                "Z": 0
              },
              "Vertices": [
                {
                  "X": 14336,
                  "Y": 14336,
                  "Z": 3072
                },
                {
                  "X": 13312,
                  "Y": 14336,
                  "Z": 3072
                },
                {
                  "X": 13312,
                  "Y": 14336,
                  "Z": 4096
                },
                {
                  "X": 14336,
                  "Y": 14336,
                  "Z": 4096
                }
              ]
            },
            "32767": {
              "AdjoiningRoom": 137,
              "Normal": {
                "X": 0,
                "Y": 1,
                "Z": 0
              },
              "Vertices": [
                {
                  "X": 1024,
                  "Y": 14336,
                  "Z": 2048
                },
                {
                  "X": 1024,
                  "Y": 14336,
                  "Z": 1024
                },
                {
                  "X": 2048,
                  "Y": 14336,
                  "Z": 1024
                },
                {
                  "X": 2048,
                  "Y": 14336,
                  "Z": 2048
                }
              ]
            }
          }
        },

        {
          "Comments": "Make collisional portals between the new room (referenced by short.Max) and room 137.",
          "EMType": 83,
          "Ceiling": {
            "X": 56828,
            "Y": 14336,
            "Z": 76335,
            "Room": 137
          },
          "Floor": {
            "X": 56828,
            "Y": 16640,
            "Z": 76335,
            "Room": 32767
          }
        },

        {
          "Comments": "Flood the new room.",
          "EMType": 2,
          "RoomNumbers": [ 32767 ]
        },

        {
          "Comments": "Move the ceiling for the portal and turn it into a wall instead to patch a gap.",
          "EMType": 23,
          "Modifications": [
            {
              "RoomNumber": 32767,
              "FaceType": 0,
              "FaceIndex": 1,
              "VertexChanges": {
                "0": {
                  "Z": -1024
                },
                "1": {
                  "Z": 1024
                },
                "2": {
                  "X": -1024,
                  "Y": 1280,
                  "Z": 1024
                },
                "3": {
                  "X": -1024,
                  "Y": 1280,
                  "Z": -1024
                }
              }
            }
          ]
        },

        {
          "Comments": "Patch another 2 gaps in the new room.",
          "EMType": 26,
          "Quads": {
            "32767": [
              {
                "Vertices": [
                  37,
                  43,
                  42,
                  32
                ],
                "Texture": 1393
              },
              {
                "Vertices": [
                  43,
                  40,
                  41,
                  42
                ],
                "Texture": 1426
              }
            ]
          }
        },

        {
          "Comments": "Re-texture the new room.",
          "EMType": 21,
          "TextureMap": {
            "1393": {
              "32767": {
                "Rectangles": [
                  1,
                  2,
                  3,
                  4,
                  5,
                  6,
                  8,
                  9,
                  10,
                  11,
                  12,
                  13,
                  14,
                  16,
                  17,
                  18,
                  19,
                  20,
                  22,
                  23,
                  24,
                  25,
                  27,
                  28,
                  29,
                  30
                ]
              }
            },
            "1553": {
              "32767": {
                "Rectangles": [
                  0,
                  7,
                  15,
                  21,
                  26
                ]
              }
            }
          }
        },

        {
          "Comments": "Remove rectangle 63 from room 137.",
          "EMType": 22,
          "GeometryMap": {
            "137": {
              "Rectangles": [ 63 ]
            }
          }
        },

        {
          "Comments": "Add a music trigger beside the rewards.",
          "EMType": 61,
          "TriggerEntry": {
            "Setup": {
              "Value": 4
            },
            "TrigSetup": {
              "Value": 15872,
              "OneShot": true
            },
            "TrigType": 0,
            "TrigActionList": [
              {
                "TrigAction": 8,
                "Parameter": 82
              }
            ]
          },
          "Locations": [
            {
              "X": 58880,
              "Y": 17408,
              "Z": 76288,
              "Room": 32767
            }
          ]
        }
      ]
    },

    {
      "RewardPositions": [
        {
          "X": 48640,
          "Y": 13056,
          "Z": 61952
        },
        {
          "X": 48640,
          "Y": 13056,
          "Z": 62976
        },
        {
          "X": 48640,
          "Y": 13056,
          "Z": 64000
        },
        {
          "X": 48640,
          "Y": 13056,
          "Z": 65024
        }
      ],

      "Doors": [
        {
          "TypeID": 131,
          "X": 48640,
          "Y": 13056,
          "Z": 68096,
          "Room": 32767,
          "Angle": 0,
          "Intensity1": 6342,
          "Intensity2": 16912
        },
        {
          "TypeID": 131,
          "X": 48640,
          "Y": 13056,
          "Z": 67072,
          "Room": 32767,
          "Angle": 0,
          "Intensity1": 6342,
          "Intensity2": 16912
        }
      ],

      "Cameras": [
        {
          "X": 50501,
          "Y": 11370,
          "Z": 69994,
          "Room": 94
        }
      ],

      "Room": [
        {
          "Comments": "Make a copy of room 134.",
          "EMType": 123,
          "RoomIndex": 134,
          "NewLocation": {
            "X": 47104,
            "Y": 13056,
            "Z": 60416
          },
          "LinkedLocation": {
            "X": 56662,
            "Y": 13056,
            "Z": 72700,
            "Room": 96
          }
        },

        {
          "Comments": "Get rid of the torch mesh.",
          "EMType": 25,
          "ClearFromRooms": {
            "34": [ 32767 ]
          }
        },

        {
          "Comments": "Make visibility portals between the new room (referenced by short.Max) and room 94.",
          "EMType": 81,
          "Portals": {
            "94": {
              "AdjoiningRoom": 32767,
              "Normal": {
                "X": 0,
                "Y": 0,
                "Z": 1
              },
              "Vertices": [
                {
                  "X": 2048,
                  "Y": 11264,
                  "Z": 1024
                },
                {
                  "X": 3072,
                  "Y": 11264,
                  "Z": 1024
                },
                {
                  "X": 2048,
                  "Y": 13056,
                  "Z": 1024
                },
                {
                  "X": 3072,
                  "Y": 13056,
                  "Z": 1024
                }
              ]
            },
            "32767": {
              "AdjoiningRoom": 94,
              "Normal": {
                "X": 0,
                "Y": 0,
                "Z": -1
              },
              "Vertices": [
                {
                  "X": 1024,
                  "Y": 11264,
                  "Z": 7168
                },
                {
                  "X": 2048,
                  "Y": 11264,
                  "Z": 7168
                },
                {
                  "X": 2048,
                  "Y": 13056,
                  "Z": 7168
                },
                {
                  "X": 1024,
                  "Y": 13056,
                  "Z": 7168
                }
              ]
            }
          }
        },

        {
          "Comments": "Make collisional portals between the new room (referenced by short.Max) and room 94.",
          "EMType": 82,
          "Portals": {
            "94": {
              "32767": [
                {
                  "X": 48641,
                  "Y": 13056,
                  "Z": 67218
                }
              ]
            },
            "32767": {
              "94": [
                {
                  "X": 48641,
                  "Y": 13056,
                  "Z": 67730
                }
              ]
            }
          }
        },

        {
          "Comments": "Move walls around to clear the portal and plug gaps.",
          "EMType": 23,
          "Modifications": [
            {
              "RoomNumber": 94,
              "FaceType": 0,
              "FaceIndex": 16,
              "VertexChanges": {
                "2": {
                  "Y": -768
                },
                "3": {
                  "Y": -768
                }
              }
            },
            {
              "RoomNumber": 32767,
              "FaceType": 0,
              "FaceIndex": 21,
              "VertexChanges": {
                "0": {
                  "X": 1024,
                  "Z": -1024
                },
                "1": {
                  "Z": -2048
                },
                "2": {
                  "Z": -2048
                },
                "3": {
                  "X": 1024,
                  "Z": -1024
                }
              }
            },
            {
              "RoomNumber": 32767,
              "FaceType": 0,
              "FaceIndex": 22,
              "VertexChanges": {
                "0": {
                  "X": 1024,
                  "Z": -1024
                },
                "1": {
                  "Z": -2048
                },
                "2": {
                  "Z": -2048
                },
                "3": {
                  "X": 1024,
                  "Z": -1024
                }
              }
            }
          ]
        },

        {
          "Comments": "Patch another 2 gaps in the new room.",
          "EMType": 26,
          "Quads": {
            "32767": [
              {
                "Vertices": [
                  9,
                  10,
                  6,
                  7
                ],
                "Texture": 1426
              }
            ]
          }
        },

        {
          "Comments": "Copy lighting and colour attributes to brighten up the new room.",
          "EMType": 124,
          "RoomMap": {
            "32767": {
              "Attributes": 16,
              "Colour": 6306,
              "Lighting": 6306
            }
          }
        },

        {
          "Comments": "Remove rectangle 17 from room 94.",
          "EMType": 22,
          "GeometryMap": {
            "94": {
              "Rectangles": [ 17 ]
            }
          }
        },

        {
          "Comments": "Add a music trigger beside the rewards.",
          "EMType": 61,
          "TriggerEntry": {
            "Setup": {
              "Value": 4
            },
            "TrigSetup": {
              "Value": 15872,
              "OneShot": true
            },
            "TrigType": 0,
            "TrigActionList": [
              {
                "TrigAction": 8,
                "Parameter": 91
              }
            ]
          },
          "Locations": [
            {
              "X": 48640,
              "Y": 13056,
              "Z": 66048,
              "Room": 32767
            }
          ]
        }
      ]
    }
  ]
}