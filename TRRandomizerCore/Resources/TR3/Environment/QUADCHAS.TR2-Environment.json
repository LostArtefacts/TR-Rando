{
  "All": [
    {
      "Comments": "Add a trapdoor as part of a return path.",
      "EMType": 51,
      "Tags": [
        9
      ],
      "TypeID": 139,
      "Flags": 15872,
      "Intensity": -1,
      "Location": {
        "X": 76288,
        "Y": 256,
        "Z": 22016,
        "Room": 25,
        "Angle": 16384
      }
    },
    {
      "Comments": "Trigger it.",
      "EMType": 68,
      "Tags": [
        9
      ],
      "Locations": [
        {
          "X": 77312,
          "Y": 640,
          "Z": 19968,
          "Room": 25
        },
        {
          "X": 78336,
          "Y": 640,
          "Z": 19968,
          "Room": 25
        },
        {
          "X": 76288,
          "Y": 2688,
          "Z": 22016,
          "Room": 61
        }
      ],
      "Actions": [
        {
          "Parameter": -1
        }
      ]
    },
    {
      "Comments": "And trigger it from the other side.",
      "EMType": 61,
      "Tags": [
        9
      ],
      "Locations": [
        {
          "X": 78336,
          "Y": 1792,
          "Z": 27136,
          "Room": 16
        },
        {
          "X": 79360,
          "Y": 1792,
          "Z": 27136,
          "Room": 16
        }
      ],
      "Trigger": {
        "Mask": 31,
        "Actions": [
          {
            "Parameter": -1
          }
        ]
      }
    },
    {
      "Comments": "Add another trapdoor.",
      "EMType": 51,
      "Tags": [
        9
      ],
      "TypeID": 139,
      "Flags": 15872,
      "Intensity": -1,
      "Location": {
        "X": 44544,
        "Y": 256,
        "Z": 57856,
        "Room": 152,
        "Angle": -32768
      }
    },
    {
      "Comments": "Trigger it.",
      "EMType": 68,
      "Tags": [
        9
      ],
      "Locations": [
        {
          "X": 44544,
          "Y": 2304,
          "Z": 57856,
          "Room": 153
        },
        {
          "X": 42496,
          "Z": 49664,
          "Room": 148
        },
        {
          "X": 43520,
          "Z": 49664,
          "Room": 148
        }
      ],
      "Actions": [
        {
          "Parameter": -1
        }
      ]
    },
    {
      "Comments": "Further triggers for it, and other to allow going backwards through the other side of the river.",
      "EMType": 61,
      "Tags": [
        9
      ],
      "Locations": [
        {
          "X": 45568,
          "Y": 512,
          "Z": 58880,
          "Room": 159
        },
        {
          "X": 46592,
          "Y": 512,
          "Z": 58880,
          "Room": 159
        },
        {
          "X": 47616,
          "Y": 512,
          "Z": 58880,
          "Room": 159
        }
      ],
      "Trigger": {
        "Mask": 31,
        "Actions": [
          {
            "Parameter": -1
          },
          {
            "Parameter": 43
          },
          {
            "Parameter": 44
          },
          {
            "Parameter": 106
          }
        ]
      }
    },
    {
      "Comments": "Add another trapdoor.",
      "EMType": 51,
      "Tags": [
        9
      ],
      "TypeID": 139,
      "Flags": 15872,
      "Intensity": -1,
      "Location": {
        "X": 47616,
        "Y": -3584,
        "Z": 20992,
        "Room": 114
      }
    },
    {
      "Comments": "Trigger it.",
      "EMType": 68,
      "Tags": [
        9
      ],
      "Locations": [
        {
          "X": 47616,
          "Y": 2560,
          "Z": 20992,
          "Room": 117
        }
      ],
      "Actions": [
        {
          "Parameter": -1
        }
      ]
    },
    {
      "Comments": "Further triggers for it.",
      "EMType": 61,
      "Tags": [
        9
      ],
      "Locations": [
        {
          "X": 51712,
          "Y": -2816,
          "Z": 22016,
          "Room": 114
        },
        {
          "X": 51712,
          "Y": -2816,
          "Z": 23040,
          "Room": 114
        }
      ],
      "Trigger": {
        "Mask": 31,
        "Actions": [
          {
            "Parameter": -1
          }
        ]
      }
    },
    {
      "Comments": "Add another trapdoor.",
      "EMType": 51,
      "Tags": [
        9
      ],
      "TypeID": 139,
      "Intensity": -1,
      "Location": {
        "X": 66048,
        "Y": -3328,
        "Z": 8704,
        "Room": 104
      }
    },
    {
      "Comments": "Dummy trigger for it.",
      "EMType": 61,
      "Tags": [
        9
      ],
      "Locations": [
        {
          "X": 66048,
          "Y": 2688,
          "Z": 8704,
          "Room": 105
        }
      ],
      "Trigger": {
        "TrigType": 8,
        "Mask": 31,
        "Actions": [
          {
            "Parameter": -1
          }
        ]
      }
    },
    {
      "Comments": "Add a ladder at the waterfall at the end.",
      "EMType": 0,
      "Tags": [
        9
      ],
      "TextureMap": {
        "1487": {
          "163": {
            "Rectangles": [
              43,
              44
            ]
          },
          "162": {
            "Rectangles": [
              27,
              28
            ]
          },
          "160": {
            "Rectangles": [
              73
            ]
          }
        }
      },
      "Location": {
        "X": 42496,
        "Y": 8320,
        "Z": 72192,
        "Room": 163
      },
      "IsNegativeX": true
    },
    {
      "Comments": "Remove collisional portals near the start.",
      "EMType": 86,
      "Tags": [
        9
      ],
      "Location1": {
        "X": 86528,
        "Y": 2688,
        "Z": 49664,
        "Room": 9
      },
      "Location2": {
        "X": 86528,
        "Y": 1280,
        "Z": 49664,
        "Room": 10
      }
    },
    {
      "Comments": "Make a wall in its place.",
      "EMType": 127,
      "Tags": [
        9
      ],
      "Locations": [
        {
          "X": 86528,
          "Y": 2688,
          "Z": 49664,
          "Room": 9
        }
      ]
    },
    {
      "Comments": "Reset waving vertices.",
      "EMType": 124,
      "Tags": [
        9
      ],
      "FaceMap": {
        "10": {
          "Rectangles": {
            "55": 54
          }
        }
      }
    },
    {
      "Comments": "Raise the floor above the wall.",
      "EMType": 1,
      "Tags": [
        9
      ],
      "Location": {
        "X": 86528,
        "Y": 1280,
        "Z": 49664,
        "Room": 10
      },
      "Clicks": -2,
      "FloorTexture": 1607,
      "SideTexture": 2113,
      "Flags": 15
    },
    {
      "Comments": "Alter a slope on the other side,",
      "EMType": 7,
      "Tags": [
        9
      ],
      "Location": {
        "X": 90624,
        "Y": -384,
        "Z": 49664,
        "Room": 10
      },
      "FloorClicks": 3,
      "SlantType": 1,
      "XSlant": 2
    },
    {
      "Comments": "Adjust some faces to fit the new layout.",
      "EMType": 23,
      "Tags": [
        9
      ],
      "Modifications": [
        {
          "RoomNumber": 9,
          "FaceIndex": 29,
          "VertexChanges": {
            "0": {
              "Y": 512
            },
            "1": {
              "X": 1024,
              "Y": 512,
              "Z": 1024
            },
            "2": {
              "X": 1024,
              "Z": 1024
            }
          }
        },
        {
          "RoomNumber": 9,
          "FaceIndex": 28,
          "VertexChanges": {
            "0": {
              "Y": -1024
            },
            "1": {
              "X": 1024,
              "Y": -1024,
              "Z": -1024
            },
            "2": {
              "X": 1024,
              "Z": -1024
            }
          }
        },
        {
          "RoomNumber": 9,
          "FaceIndex": 27,
          "VertexChanges": {
            "0": {
              "X": 1024,
              "Y": -1536
            },
            "3": {
              "X": 1024,
              "Y": -1280
            }
          }
        },
        {
          "RoomNumber": 10,
          "FaceIndex": 103,
          "VertexChanges": {
            "0": {
              "Y": 512
            },
            "3": {
              "Y": 512
            }
          }
        },
        {
          "RoomNumber": 10,
          "FaceIndex": 101,
          "VertexChanges": {
            "0": {
              "Y": 768
            },
            "1": {
              "Y": 512
            },
            "2": {
              "Y": 512
            },
            "3": {
              "Y": 768
            }
          }
        },
        {
          "RoomNumber": 10,
          "FaceIndex": 108,
          "VertexChanges": {
            "2": {
              "Y": 768
            },
            "3": {
              "Y": 768
            }
          }
        },
        {
          "RoomNumber": 10,
          "FaceIndex": 105,
          "VertexChanges": {
            "1": {
              "Y": 768
            },
            "0": {
              "Y": 512
            }
          }
        },
        {
          "RoomNumber": 4,
          "FaceIndex": 65,
          "VertexChanges": {
            "0": {
              "Y": 768
            },
            "1": {
              "Y": 512
            }
          }
        }
      ]
    }
  ],
  "Any": [],
  "AllWithin": [],
  "OneOf": [],
  "ConditionalAllWithin": [],
  "ConditionalAll": [
    {
      "Condition": {
        "Comments": "If there is a secret in room 167, make sure we can get back out for the rewards.",
        "ConditionType": 1,
        "RoomIndex": 167
      },
      "OnTrue": [
        {
          "EMType": 0,
          "TextureMap": {
            "1487": {
              "167": {
                "Rectangles": [
                  21
                ]
              }
            }
          },
          "Location": {
            "X": 43520,
            "Y": 8192,
            "Z": 66048,
            "Room": 167
          },
          "IsPositiveZ": true
        }
      ]
    }
  ],
  "ConditionalOneOf": [],
  "Mirrored": []
}