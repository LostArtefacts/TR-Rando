{
  "All": [
    {
      "Comments": "Create a return path from OG key 179 to the top of the satellite tower area.",
      "EMType": 126,
      "Tags": [
        9
      ],
      "Location": {
        "X": 63488,
        "Y": -256,
        "Z": 6144
      },
      "LinkedLocation": {
        "X": 67072,
        "Z": 7680,
        "Room": 129
      },
      "Textures": {
        "Floor": 1855,
        "Ceiling": 1765,
        "WallAlignment": 4,
        "Wall4": 1827
      },
      "AmbientLighting": 7424,
      "DefaultVertex": {
        "Lighting": 3170,
        "Attributes": 16,
        "Colour": 3170
      },
      "Lights": [
        {
          "X": 1536,
          "Y": -768,
          "Z": 1536,
          "Intensity1": 512,
          "Fade1": 4096,
          "Colour": {
            "Red": 255,
            "Green": 255,
            "Blue": 255
          },
          "LightProperties": [
            -1688,
            -1,
            732,
            0
          ]
        }
      ],
      "Height": 8,
      "Width": 4,
      "Depth": 8,
      "FloorHeights": {
        "-127": [
          18,
          19,
          20,
          21,
          22
        ]
      },
      "CeilingHeights": {
        "4": [
          9,
          10,
          11,
          12,
          13,
          17
        ]
      }
    },
    {
      "EMType": 126,
      "Tags": [
        9
      ],
      "Location": {
        "X": 63488,
        "Y": -2304,
        "Z": 11264
      },
      "LinkedLocation": {
        "X": 67072,
        "Z": 7680,
        "Room": 129
      },
      "Textures": {
        "Floor": 1855,
        "Ceiling": 1765,
        "WallAlignment": 4,
        "Wall4": 1827
      },
      "AmbientLighting": 7424,
      "DefaultVertex": {
        "Lighting": 3170,
        "Attributes": 16,
        "Colour": 3170
      },
      "Lights": [
        {
          "X": 1536,
          "Y": -768,
          "Z": 1536,
          "Intensity1": 512,
          "Fade1": 4096,
          "Colour": {
            "Red": 255,
            "Green": 255,
            "Blue": 255
          },
          "LightProperties": [
            -1688,
            -1,
            732,
            0
          ]
        }
      ],
      "Height": 8,
      "Width": 3,
      "Depth": 5,
      "FloorHeights": {
        "-4": [
          7
        ]
      }
    },
    {
      "Comments": "Make visibility portals.",
      "EMType": 81,
      "Tags": [
        9
      ],
      "Portals": [
        {
          "BaseRoom": 38,
          "AdjoiningRoom": -1,
          "Normal": {
            "Y": 1
          },
          "Vertices": [
            {
              "X": 2048,
              "Y": -2304,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": -2304,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": -2304,
              "Z": 2048
            },
            {
              "X": 2048,
              "Y": -2304,
              "Z": 2048
            }
          ]
        },
        {
          "BaseRoom": -1,
          "AdjoiningRoom": 38,
          "Normal": {
            "Y": -1
          },
          "Vertices": [
            {
              "X": 1024,
              "Y": -2304,
              "Z": 4096
            },
            {
              "X": 2048,
              "Y": -2304,
              "Z": 4096
            },
            {
              "X": 2048,
              "Y": -2304,
              "Z": 3072
            },
            {
              "X": 1024,
              "Y": -2304,
              "Z": 3072
            }
          ]
        },
        {
          "BaseRoom": -1,
          "AdjoiningRoom": -2,
          "Normal": {
            "Y": -1
          },
          "Vertices": [
            {
              "X": 1024,
              "Y": -2304,
              "Z": 2048
            },
            {
              "X": 2048,
              "Y": -2304,
              "Z": 2048
            },
            {
              "X": 2048,
              "Y": -2304,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": -2304,
              "Z": 1024
            }
          ]
        },
        {
          "BaseRoom": -2,
          "AdjoiningRoom": -1,
          "Normal": {
            "Y": 1
          },
          "Vertices": [
            {
              "X": 2048,
              "Y": -2304,
              "Z": 6144
            },
            {
              "X": 1024,
              "Y": -2304,
              "Z": 6144
            },
            {
              "X": 1024,
              "Y": -2304,
              "Z": 7168
            },
            {
              "X": 2048,
              "Y": -2304,
              "Z": 7168
            }
          ]
        },
        {
          "BaseRoom": -2,
          "AdjoiningRoom": 129,
          "Normal": {
            "X": -1
          },
          "Vertices": [
            {
              "X": 3072,
              "Y": -1280,
              "Z": 2048
            },
            {
              "X": 3072,
              "Y": -1280,
              "Z": 1024
            },
            {
              "X": 3072,
              "Y": -256,
              "Z": 1024
            },
            {
              "X": 3072,
              "Y": -256,
              "Z": 2048
            }
          ]
        },
        {
          "BaseRoom": 129,
          "AdjoiningRoom": -2,
          "Normal": {
            "X": 1
          },
          "Vertices": [
            {
              "X": 1024,
              "Y": -1280,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": -1280,
              "Z": 2048
            },
            {
              "X": 1024,
              "Y": -256,
              "Z": 2048
            },
            {
              "X": 1024,
              "Y": -256,
              "Z": 1024
            }
          ]
        }
      ]
    },
    {
      "Comments": "Horizontal portals.",
      "EMType": 82,
      "Tags": [
        9
      ],
      "Portals": {
        "38": {
          "-1": [
            {
              "X": 65024,
              "Z": 13824
            }
          ]
        },
        "-2": {
          "129": [
            {
              "X": 67072,
              "Z": 7680
            }
          ],
          "-1": [
            {
              "X": 65024,
              "Z": 13824
            }
          ]
        },
        "129": {
          "-2": [
            {
              "X": 66048,
              "Z": 7680
            }
          ]
        }
      }
    },
    {
      "Comments": "Vertical portals.",
      "EMType": 83,
      "Tags": [
        9
      ],
      "Ceiling": {
        "X": 65024,
        "Y": -2304,
        "Z": 14848,
        "Room": -1
      },
      "Floor": {
        "X": 65024,
        "Y": -1280,
        "Z": 14848,
        "Room": 38
      }
    },
    {
      "Comments": "Vertical portals.",
      "EMType": 83,
      "Tags": [
        9
      ],
      "Ceiling": {
        "X": 65024,
        "Y": -2304,
        "Z": 12800,
        "Room": -1
      },
      "Floor": {
        "X": 65024,
        "Y": -1280,
        "Z": 12800,
        "Room": -2
      }
    },
    {
      "Comments": "Add a ladder.",
      "EMType": 0,
      "Tags": [
        9
      ],
      "TextureMap": {
        "1848": {
          "-2": {
            "Rectangles": [
              24,
              25
            ]
          },
          "-1": {
            "Rectangles": [
              4
            ]
          }
        }
      },
      "Location": {
        "X": 65024,
        "Y": -256,
        "Z": 12800,
        "Room": -2
      },
      "IsPositiveZ": true
    },
    {
      "Comments": "Remove faces on portals.",
      "EMType": 22,
      "Tags": [
        9
      ],
      "GeometryMap": {
        "38": {
          "Rectangles": [
            1
          ]
        },
        "-1": {
          "Rectangles": [
            0,
            13
          ]
        },
        "-2": {
          "Rectangles": [
            21,
            32
          ]
        },
        "129": {
          "Rectangles": [
            3
          ]
        }
      }
    },
    {
      "Comments": "Generate lighting.",
      "EMType": 128,
      "Tags": [
        9
      ],
      "RoomIndices": [
        -1,
        -2
      ]
    }
  ],
  "Any": [],
  "AllWithin": [],
  "OneOf": [],
  "ConditionalAllWithin": [],
  "ConditionalAll": [
    {
      "Condition": {
        "Comments": "Check if enemy #63 is a hostile human and if not, make some changes to allow Lara to open room 169 herself.",
        "ConditionType": 0,
        "EntityIndex": 63,
        "EntityTypes": [
          46,
          51,
          53,
          56,
          60,
          61,
          63
        ]
      },
      "OnFalse": [
        {
          "Comments": "Convert one of the now unused AI entities into a button.",
          "EMType": 45,
          "EntityIndex": 107,
          "NewEntityType": 128
        },
        {
          "Comments": "Convert the AI entities under the enemy into pickups.",
          "EMType": 45,
          "EntityIndex": 62,
          "NewEntityType": 176
        },
        {
          "Comments": "Convert the AI entities under the enemy into pickups.",
          "EMType": 45,
          "EntityIndex": 64,
          "NewEntityType": 176
        },
        {
          "Comments": "Remove the old heavy trigger.",
          "EMType": 62,
          "Locations": [
            {
              "X": 91648,
              "Y": -4864,
              "Z": 82432,
              "Room": 74
            }
          ]
        },
        {
          "Comments": "Make a trigger for the button.",
          "EMType": 61,
          "Locations": [
            {
              "X": 91648,
              "Y": -4864,
              "Z": 82432,
              "Room": 74
            }
          ],
          "Trigger": {
            "TrigType": 2,
            "OneShot": true,
            "Mask": 31,
            "SwitchOrKeyRef": 107,
            "Actions": [
              {
                "Parameter": 226
              },
              {
                "Parameter": 227
              },
              {
                "Parameter": 228
              }
            ]
          }
        },
        {
          "Comments": "Remove the hand scanner static mesh.",
          "EMType": 25,
          "Tags": [
            14
          ],
          "ClearFromRooms": {
            "413": [
              74
            ]
          }
        }
      ]
    },
    {
      "Condition": {
        "Comments": "Check if enemy #132 is a prisoner and if not, make some changes to allow Lara to open the trapdoor in this area herself.",
        "ConditionType": 0,
        "EntityIndex": 132,
        "EntityType": 62
      },
      "OnFalse": [
        {
          "Comments": "Move the second enemy spawn trigger beside the ladder.",
          "EMType": 67,
          "BaseLocation": {
            "X": 39424,
            "Y": -1024,
            "Z": 50688,
            "Room": 93
          },
          "NewLocation": {
            "X": 41472,
            "Y": -768,
            "Z": 50688,
            "Room": 93
          }
        },
        {
          "Comments": "Convert one of the now unused AI entities into a button.",
          "EMType": 45,
          "EntityIndex": 131,
          "NewEntityType": 128
        },
        {
          "Comments": "Convert the others into pickup.",
          "EMType": 45,
          "EntityIndex": 133,
          "NewEntityType": 176
        },
        {
          "EMType": 45,
          "EntityIndex": 134,
          "NewEntityType": 170
        },
        {
          "Comments": "Move the button so Lara can reach it.",
          "EMType": 44,
          "EntityIndex": 131,
          "TargetLocation": {
            "X": 39424,
            "Y": -1024,
            "Z": 50688,
            "Room": 93
          }
        },
        {
          "Comments": "Make a trigger for the button.",
          "EMType": 61,
          "Locations": [
            {
              "X": 39424,
              "Y": -1024,
              "Z": 50688,
              "Room": 93
            }
          ],
          "Trigger": {
            "TrigType": 2,
            "Mask": 31,
            "SwitchOrKeyRef": 131,
            "Actions": [
              {
                "Parameter": 130
              }
            ]
          }
        },
        {
          "Comments": "Remove the old heavy trigger.",
          "EMType": 62,
          "Locations": [
            {
              "X": 38400,
              "Y": -2304,
              "Z": 50688,
              "Room": 87
            }
          ]
        },
        {
          "Comments": "Remove the hand scanner static mesh.",
          "EMType": 25,
          "ClearFromRooms": {
            "413": [
              87
            ]
          }
        }
      ]
    }
  ],
  "ConditionalOneOf": [],
  "Mirrored": [
    {
      "Comments": "Make door #125 a vertical one as this corridor is awkward.",
      "EMType": 45,
      "EntityIndex": 125,
      "NewEntityType": 136
    }
  ]
}