{
  "All": [
    {
      "Comments": "Create a return path from the bottom of the main slope to the top.",
      "EMType": 126,
      "Tags": [
        9
      ],
      "Location": {
        "X": 23552,
        "Y": 26624,
        "Z": 54272
      },
      "LinkedLocation": {
        "X": 25088,
        "Y": 24064,
        "Z": 58880,
        "Room": 135
      },
      "Textures": {
        "Floor": 1792,
        "Ceiling": 1636,
        "WallAlignment": 4,
        "Wall4": 1636,
        "Wall2": 2261
      },
      "AmbientLighting": 3840,
      "DefaultVertex": {
        "Lighting": 3170,
        "Attributes": 16,
        "Colour": 3170
      },
      "Lights": [
        {
          "X": 1536,
          "Y": -768,
          "Z": 1536,
          "Intensity1": 512,
          "Fade1": 4096,
          "Colour": {
            "Red": 255,
            "Green": 255,
            "Blue": 255
          },
          "LightProperties": [
            -1688,
            -1,
            732,
            0
          ]
        },
        {
          "X": 1536,
          "Y": -2816,
          "Z": 3584,
          "Intensity1": 1024,
          "Fade1": 1024,
          "Colour": {
            "Red": 255,
            "Green": 255,
            "Blue": 255
          },
          "LightProperties": [
            4096,
            -1,
            1024,
            0
          ]
        }
      ],
      "Height": 14,
      "Width": 3,
      "Depth": 5,
      "CeilingHeights": {
        "10": [
          6,
          7
        ]
      }
    },
    {
      "EMType": 126,
      "Tags": [
        9
      ],
      "Location": {
        "X": 23552,
        "Y": 26624,
        "Z": 37888
      },
      "LinkedLocation": {
        "X": 25088,
        "Y": 24064,
        "Z": 58880,
        "Room": 135
      },
      "Textures": {
        "Floor": 1792,
        "Ceiling": 1636,
        "WallAlignment": 4,
        "Wall4": 1636,
        "Wall2": 2261
      },
      "AmbientLighting": 3840,
      "DefaultVertex": {
        "Lighting": 3170,
        "Attributes": 16,
        "Colour": 3170
      },
      "Lights": [
        {
          "X": 1536,
          "Y": -768,
          "Z": 1536,
          "Intensity1": 512,
          "Fade1": 4096,
          "Colour": {
            "Red": 255,
            "Green": 255,
            "Blue": 255
          },
          "LightProperties": [
            -1688,
            -1,
            732,
            0
          ]
        }
      ],
      "Height": 4,
      "Width": 3,
      "Depth": 18
    },
    {
      "EMType": 126,
      "Tags": [
        9
      ],
      "Location": {
        "X": 23552,
        "Y": 25600,
        "Z": 37888
      },
      "LinkedLocation": {
        "X": 25088,
        "Y": 24064,
        "Z": 58880,
        "Room": 135
      },
      "Textures": {
        "Floor": 1792,
        "Ceiling": 1636,
        "WallAlignment": 4,
        "Wall4": 1636,
        "Wall2": 2261
      },
      "AmbientLighting": 3840,
      "DefaultVertex": {
        "Lighting": 3170,
        "Attributes": 16,
        "Colour": 3170
      },
      "Lights": [
        {
          "X": 1536,
          "Y": -768,
          "Z": 1536,
          "Intensity1": 512,
          "Fade1": 4096,
          "Colour": {
            "Red": 255,
            "Green": 255,
            "Blue": 255
          },
          "LightProperties": [
            -1688,
            -1,
            732,
            0
          ]
        }
      ],
      "Height": 44,
      "Width": 3,
      "Depth": 3
    },
    {
      "EMType": 126,
      "Tags": [
        9
      ],
      "Location": {
        "X": 23552,
        "Y": 14336,
        "Z": 27648
      },
      "LinkedLocation": {
        "X": 25088,
        "Y": 24064,
        "Z": 58880,
        "Room": 135
      },
      "Textures": {
        "Floor": 1792,
        "Ceiling": 1636,
        "WallAlignment": 4,
        "Wall4": 1636,
        "Wall2": 2261
      },
      "AmbientLighting": 3840,
      "DefaultVertex": {
        "Lighting": 3170,
        "Attributes": 16,
        "Colour": 3170
      },
      "Lights": [
        {
          "X": 2560,
          "Y": -768,
          "Z": 1536,
          "Intensity1": 512,
          "Fade1": 4096,
          "Colour": {
            "Red": 255,
            "Green": 255,
            "Blue": 255
          },
          "LightProperties": [
            -1688,
            -1,
            732,
            0
          ]
        }
      ],
      "Height": 13,
      "Width": 4,
      "Depth": 13,
      "CeilingHeights": {
        "-127": [
          14,
          15,
          16,
          17,
          18,
          19,
          20,
          21,
          22,
          23
        ],
        "9": [
          24,
          28,
          29,
          30,
          31,
          32,
          33,
          34,
          35,
          36,
          37
        ]
      }
    },
    {
      "EMType": 126,
      "Tags": [
        9
      ],
      "Location": {
        "X": 24576,
        "Y": 11008,
        "Z": 27648
      },
      "LinkedLocation": {
        "X": 25088,
        "Y": 24064,
        "Z": 58880,
        "Room": 135
      },
      "Textures": {
        "Floor": 1792,
        "Ceiling": 1636,
        "WallAlignment": 4,
        "Wall4": 1636,
        "Wall2": 2261
      },
      "AmbientLighting": 3840,
      "DefaultVertex": {
        "Lighting": 3170,
        "Attributes": 16,
        "Colour": 3170
      },
      "Lights": [
        {
          "X": 1536,
          "Y": -768,
          "Z": 1536,
          "Intensity1": 512,
          "Fade1": 4096,
          "Colour": {
            "Red": 255,
            "Green": 255,
            "Blue": 255
          },
          "LightProperties": [
            -1688,
            -1,
            732,
            0
          ]
        }
      ],
      "Height": 44,
      "Width": 3,
      "Depth": 3
    },
    {
      "Comments": "Make visibility portals.",
      "EMType": 81,
      "Tags": [
        9
      ],
      "Portals": [
        {
          "BaseRoom": 4,
          "AdjoiningRoom": -1,
          "Normal": {
            "Y": -1
          },
          "Vertices": [
            {
              "X": 5120,
              "Y": -256,
              "Z": 3072
            },
            {
              "X": 6144,
              "Y": -256,
              "Z": 3072
            },
            {
              "X": 6144,
              "Y": -256,
              "Z": 2048
            },
            {
              "X": 5120,
              "Y": -256,
              "Z": 2048
            }
          ]
        },
        {
          "BaseRoom": -1,
          "AdjoiningRoom": 4,
          "Normal": {
            "Y": 1
          },
          "Vertices": [
            {
              "X": 2048,
              "Y": -256,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": -256,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": -256,
              "Z": 2048
            },
            {
              "X": 2048,
              "Y": -256,
              "Z": 2048
            }
          ]
        },
        {
          "BaseRoom": -1,
          "AdjoiningRoom": -2,
          "Normal": {
            "Y": -1
          },
          "Vertices": [
            {
              "X": 1024,
              "Y": 11008,
              "Z": 2048
            },
            {
              "X": 2048,
              "Y": 11008,
              "Z": 2048
            },
            {
              "X": 2048,
              "Y": 11008,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": 11008,
              "Z": 1024
            }
          ]
        },
        {
          "BaseRoom": -2,
          "AdjoiningRoom": -1,
          "Normal": {
            "Y": 1
          },
          "Vertices": [
            {
              "X": 3072,
              "Y": 11008,
              "Z": 1024
            },
            {
              "X": 2048,
              "Y": 11008,
              "Z": 1024
            },
            {
              "X": 2048,
              "Y": 11008,
              "Z": 2048
            },
            {
              "X": 3072,
              "Y": 11008,
              "Z": 2048
            }
          ]
        },
        {
          "BaseRoom": -2,
          "AdjoiningRoom": -3,
          "Normal": {
            "Y": -1
          },
          "Vertices": [
            {
              "X": 1024,
              "Y": 14336,
              "Z": 12288
            },
            {
              "X": 2048,
              "Y": 14336,
              "Z": 12288
            },
            {
              "X": 2048,
              "Y": 14336,
              "Z": 11264
            },
            {
              "X": 1024,
              "Y": 14336,
              "Z": 11264
            }
          ]
        },
        {
          "BaseRoom": -3,
          "AdjoiningRoom": -2,
          "Normal": {
            "Y": 1
          },
          "Vertices": [
            {
              "X": 2048,
              "Y": 14336,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": 14336,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": 14336,
              "Z": 2048
            },
            {
              "X": 2048,
              "Y": 14336,
              "Z": 2048
            }
          ]
        },
        {
          "BaseRoom": -3,
          "AdjoiningRoom": -4,
          "Normal": {
            "Y": -1
          },
          "Vertices": [
            {
              "X": 1024,
              "Y": 25600,
              "Z": 2048
            },
            {
              "X": 2048,
              "Y": 25600,
              "Z": 2048
            },
            {
              "X": 2048,
              "Y": 25600,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": 25600,
              "Z": 1024
            }
          ]
        },
        {
          "BaseRoom": -4,
          "AdjoiningRoom": -3,
          "Normal": {
            "Y": 1
          },
          "Vertices": [
            {
              "X": 2048,
              "Y": 25600,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": 25600,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": 25600,
              "Z": 2048
            },
            {
              "X": 2048,
              "Y": 25600,
              "Z": 2048
            }
          ]
        },
        {
          "BaseRoom": -4,
          "AdjoiningRoom": -5,
          "Normal": {
            "Z": -1
          },
          "Vertices": [
            {
              "X": 1024,
              "Y": 25600,
              "Z": 17408
            },
            {
              "X": 2048,
              "Y": 25600,
              "Z": 17408
            },
            {
              "X": 2048,
              "Y": 26624,
              "Z": 17408
            },
            {
              "X": 1024,
              "Y": 26624,
              "Z": 17408
            }
          ]
        },
        {
          "BaseRoom": -5,
          "AdjoiningRoom": -4,
          "Normal": {
            "Z": 1
          },
          "Vertices": [
            {
              "X": 2048,
              "Y": 25600,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": 25600,
              "Z": 1024
            },
            {
              "X": 1024,
              "Y": 26624,
              "Z": 1024
            },
            {
              "X": 2048,
              "Y": 26624,
              "Z": 1024
            }
          ]
        },
        {
          "BaseRoom": -5,
          "AdjoiningRoom": 135,
          "Normal": {
            "Z": -1
          },
          "Vertices": [
            {
              "X": 1024,
              "Y": 23040,
              "Z": 4096
            },
            {
              "X": 2048,
              "Y": 23040,
              "Z": 4096
            },
            {
              "X": 2048,
              "Y": 24064,
              "Z": 4096
            },
            {
              "X": 1024,
              "Y": 24064,
              "Z": 4096
            }
          ]
        },
        {
          "BaseRoom": 135,
          "AdjoiningRoom": -5,
          "Normal": {
            "Z": 1
          },
          "Vertices": [
            {
              "X": 15360,
              "Y": 23040,
              "Z": 2048
            },
            {
              "X": 14336,
              "Y": 23040,
              "Z": 2048
            },
            {
              "X": 14336,
              "Y": 24064,
              "Z": 2048
            },
            {
              "X": 15360,
              "Y": 24064,
              "Z": 2048
            }
          ]
        }
      ]
    },
    {
      "Comments": "Horizontal portals.",
      "EMType": 82,
      "Tags": [
        9
      ],
      "Portals": {
        "-4": {
          "-5": [
            {
              "X": 25088,
              "Y": 26624,
              "Z": 55808
            }
          ]
        },
        "-5": {
          "-4": [
            {
              "X": 25088,
              "Y": 26624,
              "Z": 54784
            }
          ],
          "135": [
            {
              "X": 25088,
              "Y": 24064,
              "Z": 58880
            }
          ]
        }
      }
    },
    {
      "Comments": "Replace a portal in room 135.",
      "EMType": 85,
      "Tags": [
        9
      ],
      "Room": 135,
      "X": 14,
      "Z": 1,
      "AdjoiningRoom": -5
    },
    {
      "Comments": "Vertical portals.",
      "EMType": 83,
      "Tags": [
        9
      ],
      "Ceiling": {
        "X": 26112,
        "Y": -256,
        "Z": 29184,
        "Room": 4
      },
      "Floor": {
        "X": 26112,
        "Y": 768,
        "Z": 29184,
        "Room": -1
      }
    },
    {
      "EMType": 83,
      "Tags": [
        9
      ],
      "Ceiling": {
        "X": 26112,
        "Y": 11008,
        "Z": 29184,
        "Room": -1
      },
      "Floor": {
        "X": 26112,
        "Y": 12032,
        "Z": 29184,
        "Room": -2
      }
    },
    {
      "EMType": 83,
      "Tags": [
        9
      ],
      "Ceiling": {
        "X": 25088,
        "Y": 14336,
        "Z": 39424,
        "Room": -2
      },
      "Floor": {
        "X": 25088,
        "Y": 15360,
        "Z": 39424,
        "Room": -3
      }
    },
    {
      "EMType": 83,
      "Tags": [
        9
      ],
      "Ceiling": {
        "X": 25088,
        "Y": 25600,
        "Z": 39424,
        "Room": -3
      },
      "Floor": {
        "X": 25088,
        "Y": 26624,
        "Z": 39424,
        "Room": -4
      }
    },
    {
      "Comments": "Adjust a face to fit a portal better.",
      "EMType": 23,
      "Tags": [
        9
      ],
      "Modifications": [
        {
          "RoomNumber": -5,
          "FaceIndex": 17,
          "VertexChanges": {
            "0": {
              "Y": 512
            },
            "1": {
              "Y": 512
            }
          }
        }
      ]
    },
    {
      "Comments": "Add some ladders.",
      "EMType": 0,
      "Tags": [
        9
      ],
      "TextureMap": {},
      "Location": {
        "X": 26112,
        "Y": 14336,
        "Z": 29184,
        "Room": -2
      },
      "IsNegativeZ": true
    },
    {
      "EMType": 0,
      "Tags": [
        9
      ],
      "TextureMap": {},
      "Location": {
        "X": 25088,
        "Y": 26624,
        "Z": 39424,
        "Room": -4
      },
      "IsPositiveX": true
    },
    {
      "EMType": 0,
      "Tags": [
        9
      ],
      "TextureMap": {},
      "Location": {
        "X": 25088,
        "Y": 26624,
        "Z": 57856,
        "Room": -5
      },
      "IsPositiveZ": true
    },
    {
      "Comments": "Ladder meshes - no suitable texture by default.",
      "EMType": 24,
      "Tags": [
        9
      ],
      "Locations": [
        {
          "X": 26112,
          "Y": 14080,
          "Z": 28288,
          "Room": -2,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 13056,
          "Z": 28288,
          "Room": -2,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 12032,
          "Z": 28288,
          "Room": -2,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 11008,
          "Z": 28288,
          "Room": -1,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 9984,
          "Z": 28288,
          "Room": -1,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 8960,
          "Z": 28288,
          "Room": -1,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 7936,
          "Z": 28288,
          "Room": -1,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 6912,
          "Z": 28288,
          "Room": -1,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 5888,
          "Z": 28288,
          "Room": -1,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 4864,
          "Z": 28288,
          "Room": -1,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 3840,
          "Z": 28288,
          "Room": -1,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 2816,
          "Z": 28288,
          "Room": -1,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 1792,
          "Z": 28288,
          "Room": -1,
          "Angle": -32768
        },
        {
          "X": 26112,
          "Y": 768,
          "Z": 28288,
          "Room": -1,
          "Angle": -32768
        },
        {
          "X": 25984,
          "Y": 26624,
          "Z": 39424,
          "Room": -4,
          "Angle": 16384
        },
        {
          "X": 25984,
          "Y": 25600,
          "Z": 39424,
          "Room": -3,
          "Angle": 16384
        },
        {
          "X": 25984,
          "Y": 24576,
          "Z": 39424,
          "Room": -3,
          "Angle": 16384
        },
        {
          "X": 25984,
          "Y": 23552,
          "Z": 39424,
          "Room": -3,
          "Angle": 16384
        },
        {
          "X": 25984,
          "Y": 22528,
          "Z": 39424,
          "Room": -3,
          "Angle": 16384
        },
        {
          "X": 25984,
          "Y": 21504,
          "Z": 39424,
          "Room": -3,
          "Angle": 16384
        },
        {
          "X": 25984,
          "Y": 20480,
          "Z": 39424,
          "Room": -3,
          "Angle": 16384
        },
        {
          "X": 25984,
          "Y": 19456,
          "Z": 39424,
          "Room": -3,
          "Angle": 16384
        },
        {
          "X": 25984,
          "Y": 18432,
          "Z": 39424,
          "Room": -3,
          "Angle": 16384
        },
        {
          "X": 25984,
          "Y": 17408,
          "Z": 39424,
          "Room": -3,
          "Angle": 16384
        },
        {
          "X": 25984,
          "Y": 16384,
          "Z": 39424,
          "Room": -3,
          "Angle": 16384
        },
        {
          "X": 25984,
          "Y": 15360,
          "Z": 39424,
          "Room": -3,
          "Angle": 16384
        },
        {
          "X": 25088,
          "Y": 26112,
          "Z": 58752,
          "Room": -5
        },
        {
          "X": 25088,
          "Y": 25088,
          "Z": 58752,
          "Room": -5
        }
      ],
      "Mesh": {
        "Intensity1": 15855,
        "MeshID": 10
      }
    },
    {
      "Comments": "Remove faces on portals.",
      "EMType": 22,
      "Tags": [
        9
      ],
      "GeometryMap": {
        "4": {
          "Rectangles": [
            99
          ]
        },
        "-1": {
          "Rectangles": [
            0,
            1
          ]
        },
        "-2": {
          "Rectangles": [
            0,
            6
          ]
        },
        "-3": {
          "Rectangles": [
            0,
            1
          ]
        },
        "-4": {
          "Rectangles": [
            1,
            64
          ]
        },
        "-5": {
          "Rectangles": [
            4,
            18
          ]
        },
        "135": {
          "Rectangles": [
            25
          ]
        }
      }
    },
    {
      "Comments": "Add a trapdoor.",
      "EMType": 51,
      "Tags": [
        9
      ],
      "TypeID": 139,
      "Intensity": -1,
      "Location": {
        "X": 26112,
        "Y": -256,
        "Z": 29184,
        "Room": -1,
        "Angle": -32768
      }
    },
    {
      "Comments": "Dummy trapdoor trigger.",
      "EMType": 61,
      "Tags": [
        9
      ],
      "Locations": [
        {
          "X": 26112,
          "Y": 14336,
          "Z": 29184,
          "Room": -2
        }
      ],
      "Trigger": {
        "TrigType": 8,
        "Mask": 31,
        "Actions": [
          {
            "Parameter": -1
          }
        ]
      }
    },
    {
      "Comments": "And a regular trigger for it.",
      "EMType": 61,
      "Tags": [
        9
      ],
      "Locations": [
        {
          "X": 26112,
          "Y": 14336,
          "Z": 30208,
          "Room": -2
        }
      ],
      "Trigger": {
        "Mask": 31,
        "Actions": [
          {
            "Parameter": -1
          }
        ]
      }
    },
    {
      "Comments": "Generate lighting.",
      "EMType": 128,
      "Tags": [
        9
      ],
      "RoomIndices": [
        -1,
        -2,
        -3,
        -4,
        -5
      ]
    }
  ],
  "Any": [],
  "AllWithin": [],
  "OneOf": [],
  "ConditionalAllWithin": [],
  "ConditionalAll": [
    {
      "Condition": {
        "Comments": "If enemy #8 is not a monkey, crow, vulture, wasp, rat or compsognathus, move it out of the crawlspace.",
        "ConditionType": 0,
        "EntityIndex": 8,
        "EntityTypes": [
          71,
          27,
          29,
          44,
          23,
          34
        ]
      },
      "OnFalse": [
        {
          "EMType": 44,
          "EntityIndex": 8,
          "TargetLocation": {
            "X": 93696,
            "Y": 20224,
            "Z": 60928,
            "Room": 75
          }
        }
      ]
    }
  ],
  "ConditionalOneOf": [],
  "Mirrored": []
}