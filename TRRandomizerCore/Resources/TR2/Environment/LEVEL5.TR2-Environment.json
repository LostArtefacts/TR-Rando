{
  "All": [
    {
      "Comments": "Move the guardian triggers as otherwise they can be skipped easily and cause softlock.",
      "EMType": 67,
      "BaseLocation": {
        "X": 44544,
        "Y": -256,
        "Z": 55808,
        "Room": 7
      },
      "NewLocation": {
        "X": 46592,
        "Y": -256,
        "Z": 49664,
        "Room": 27
      }
    },
    {
      "EMType": 67,
      "BaseLocation": {
        "X": 44544,
        "Y": -256,
        "Z": 59904,
        "Room": 7
      },
      "NewLocation": {
        "X": 46592,
        "Y": -256,
        "Z": 50688,
        "Room": 27
      }
    },
    {
      "Comments": "Fix flipmap triggers.",
      "EMType": 61,
      "ExpandedLocations": {
        "Location": {
          "X": 47616,
          "Y": 8192,
          "Z": 62976,
          "Room": 33
        },
        "ExpandX": 4,
        "ExpandZ": 1
      },
      "Trigger": {
        "Mask": 31,
        "Actions": [
          {
            "Action": 4,
            "Parameter": 1
          }
        ]
      }
    },
    {
      "EMType": 61,
      "ExpandedLocations": {
        "Location": {
          "X": 48640,
          "Y": 12032,
          "Z": 62976,
          "Room": 35
        },
        "ExpandX": 2,
        "ExpandZ": 1
      },
      "Trigger": {
        "Mask": 31,
        "Actions": [
          {
            "Action": 4,
            "Parameter": 1
          }
        ]
      }
    },
    {
      "EMType": 61,
      "ExpandedLocations": {
        "Location": {
          "X": 47616,
          "Y": 11648,
          "Z": 64000,
          "Room": 72
        },
        "ExpandX": 4,
        "ExpandZ": 1
      },
      "Trigger": {
        "Mask": 31,
        "Actions": [
          {
            "Action": 5,
            "Parameter": 1
          }
        ]
      }
    },
    {
      "Comments": "Open the trapdoor at the base of the sculpture without having to go back to the top. Keys may be in here.",
      "EMType": 51,
      "TypeID": 103,
      "Intensity": -1,
      "Location": {
        "X": 44544,
        "Y": 12288,
        "Z": 57856,
        "Room": 35,
        "Angle": 16384
      }
    },
    {
      "EMType": 61,
      "EntityLocation": -1,
      "Trigger": {
        "TrigType": 2,
        "Mask": 31,
        "Timer": 5,
        "SwitchOrKeyRef": -1,
        "Actions": [
          {
            "Parameter": 64
          }
        ]
      }
    }
  ],
  "Any": [],
  "AllWithin": [],
  "OneOf": [],
  "ConditionalAllWithin": [],
  "ConditionalAll": [
    {
      "Condition": {
        "Comments": "Check if key item #74 is in its default position. If not, move the trigger to its new location.",
        "ConditionType": 0,
        "EntityIndex": 74,
        "X": 45568,
        "Y": 14336,
        "Z": 47616,
        "Room": 37
      },
      "OnFalse": [
        {
          "EMType": 67,
          "BaseLocation": {
            "X": 45568,
            "Y": 14336,
            "Z": 47616,
            "Room": 37
          },
          "EntityLocation": 74
        }
      ]
    },
    {
      "Condition": {
        "Comments": "Check if key item #94 is in its default position. If not, move the trigger to its new location.",
        "ConditionType": 0,
        "EntityIndex": 94,
        "X": 62976,
        "Y": 12288,
        "Z": 35328,
        "Room": 49
      },
      "OnFalse": [
        {
          "EMType": 67,
          "BaseLocation": {
            "X": 62976,
            "Y": 12288,
            "Z": 35328,
            "Room": 49
          },
          "EntityLocation": 94
        }
      ]
    },
    {
      "Condition": {
        "Comments": "Check if key item #133 is in its default position. If not, move the trigger to its new location.",
        "ConditionType": 0,
        "EntityIndex": 133,
        "X": 48640,
        "Y": 7680,
        "Z": 66048,
        "Room": 73
      },
      "OnFalse": [
        {
          "EMType": 67,
          "BaseLocation": {
            "X": 48640,
            "Y": 7680,
            "Z": 66048,
            "Room": 73
          },
          "EntityLocation": 133
        }
      ]
    },
    {
      "Condition": {
        "Comments": "If item #0 is not in its default position, make its pickup trigger a normal one.",
        "ConditionType": 0,
        "X": 37376,
        "Y": -1280,
        "Z": 52736,
        "Room": 1
      },
      "OnFalse": [
        {
          "EMType": 69,
          "Locations": [
            {
              "X": 37376,
              "Y": -1280,
              "Z": 52736,
              "Room": 1
            }
          ],
          "TrigType": 0
        }
      ]
    },
    {
      "Condition": {
        "Comments": "If item #97 is not in its default position, make its pickup trigger a normal one.",
        "ConditionType": 0,
        "EntityIndex": 97,
        "X": 49664,
        "Y": 11520,
        "Z": 29184,
        "Room": 51
      },
      "OnFalse": [
        {
          "EMType": 69,
          "Locations": [
            {
              "X": 49664,
              "Y": 11520,
              "Z": 29184,
              "Room": 51
            }
          ],
          "TrigType": 0
        }
      ]
    },
    {
      "Condition": {
        "Comments": "If item #142 is not in its default position, make its pickup trigger a normal one.",
        "ConditionType": 0,
        "EntityIndex": 142,
        "X": 48640,
        "Y": 12032,
        "Z": 83456,
        "Room": 74
      },
      "OnFalse": [
        {
          "EMType": 69,
          "Locations": [
            {
              "X": 48640,
              "Y": 12032,
              "Z": 83456,
              "Room": 74
            },
            {
              "X": 48640,
              "Y": 12032,
              "Z": 83456,
              "Room": 74
            }
          ],
          "TrigType": 0
        }
      ]
    },
    {
      "Condition": {
        "Comments": "If item #167 is not in its default position, make its pickup trigger a normal one.",
        "ConditionType": 0,
        "EntityIndex": 167,
        "X": 70144,
        "Y": 12032,
        "Z": 35328,
        "Room": 87
      },
      "OnFalse": [
        {
          "EMType": 69,
          "Locations": [
            {
              "X": 70144,
              "Y": 12032,
              "Z": 35328,
              "Room": 87
            }
          ],
          "TrigType": 0
        }
      ]
    },
    {
      "Condition": {
        "Comments": "If chickens are unconditional or there isn't one in the final area, make an alternate ending.",
        "ConditionType": 42,
        "Or": [
          {
            "ConditionType": 0,
            "Negate": true,
            "EntityIndex": 127,
            "EntityType": 46
          }
        ]
      },
      "OnTrue": [
        {
          "Comments": "Add a pushblock.",
          "EMType": 51,
          "TypeID": 67,
          "Intensity": -1,
          "Location": {
            "X": 36352,
            "Y": -2304,
            "Z": 55808,
            "Room": 6
          }
        },
        {
          "Comments": "Add a switch.",
          "EMType": 51,
          "TypeID": 93,
          "Intensity": -1,
          "Location": {
            "X": 36352,
            "Y": -256,
            "Z": 59904,
            "Room": 6,
            "Angle": 16384
          }
        },
        {
          "Comments": "And another switch.",
          "EMType": 51,
          "TypeID": 103,
          "Intensity": -1,
          "Location": {
            "X": 31232,
            "Y": -1280,
            "Z": 55808,
            "Room": 6,
            "Angle": -16384
          }
        },
        {
          "Comments": "First switch triggers the block.",
          "EMType": 61,
          "Locations": [
            {
              "X": 36352,
              "Y": -256,
              "Z": 59904,
              "Room": 63
            }
          ],
          "Trigger": {
            "TrigType": 2,
            "Mask": 31,
            "SwitchOrKeyRef": -2,
            "Actions": [
              {
                "Parameter": -3
              }
            ]
          }
        },
        {
          "Comments": "Use the block to reach the second; it ends the level.",
          "EMType": 61,
          "Locations": [
            {
              "X": 31232,
              "Y": -1280,
              "Z": 55808,
              "Room": 63
            }
          ],
          "Trigger": {
            "TrigType": 2,
            "Mask": 31,
            "SwitchOrKeyRef": -1,
            "Actions": [
              {
                "Action": 7
              }
            ]
          }
        }
      ]
    },
    {
      "Condition": {
        "Comments": "If the final enemy is the dragon, adjust the trigger so he doesn't spawn until in the same area.",
        "ConditionType": 0,
        "EntityIndex": 6,
        "EntityType": 40
      },
      "OnTrue": [
        {
          "Comments": "Move the triggers to the flipped gated area.",
          "EMType": 67,
          "BaseLocation": {
            "X": 46592,
            "Y": -256,
            "Z": 49664,
            "Room": 27
          },
          "NewLocation": {
            "X": 27136,
            "Y": -1408,
            "Z": 59904,
            "Room": 61
          }
        },
        {
          "EMType": 67,
          "BaseLocation": {
            "X": 46592,
            "Y": -256,
            "Z": 50688,
            "Room": 27
          },
          "NewLocation": {
            "X": 26112,
            "Y": -1408,
            "Z": 59904,
            "Room": 61
          }
        },
        {
          "EMType": 63,
          "Locations": [
            {
              "X": 25088,
              "Y": -1408,
              "Z": 59904,
              "Room": 61
            }
          ],
          "BaseLocation": {
            "X": 26112,
            "Y": -1408,
            "Z": 59904,
            "Room": 61
          }
        }
      ]
    }
  ],
  "ConditionalOneOf": [],
  "Mirrored": []
}