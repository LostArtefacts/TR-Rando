{
  "All": [
    {
      "Comments": "Add extra triggers for the mines in case the main route is not taken.",
      "EMType": 61,
      "Locations": [
        {
          "X": 29184,
          "Y": 896,
          "Z": 59904,
          "Room": 102
        }
      ],
      "Trigger": {
        "Mask": 31,
        "Actions": [
          {
            "Parameter": 106
          },
          {
            "Parameter": 107
          },
          {
            "Parameter": 108
          },
          {
            "Parameter": 109
          },
          {
            "Parameter": 110
          },
          {
            "Parameter": 111
          }
        ]
      }
    }
  ],
  "NonPurist": [],
  "Any": [],
  "AllWithin": [
    [
      [
        {
          "Comments": "Potential new button position for the trapdoor room ground floor.",
          "EMType": 41,
          "EntityIndex": 9,
          "Location": {
            "X": 52736,
            "Z": 39424,
            "Room": 18,
            "Angle": 16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room ground floor.",
          "EMType": 41,
          "EntityIndex": 9,
          "Location": {
            "X": 52736,
            "Z": 38400,
            "Room": 18,
            "Angle": 16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room ground floor.",
          "EMType": 41,
          "EntityIndex": 9,
          "Location": {
            "X": 52736,
            "Z": 38400,
            "Room": 18,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room ground floor.",
          "EMType": 41,
          "EntityIndex": 9,
          "Location": {
            "X": 50688,
            "Z": 38400,
            "Room": 18,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room ground floor.",
          "EMType": 41,
          "EntityIndex": 9,
          "Location": {
            "X": 50688,
            "Z": 38400,
            "Room": 18,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room ground floor.",
          "EMType": 41,
          "EntityIndex": 9,
          "Location": {
            "X": 50688,
            "Y": -512,
            "Z": 40448,
            "Room": 18,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room ground floor.",
          "EMType": 41,
          "EntityIndex": 9,
          "Location": {
            "X": 50688,
            "Y": -512,
            "Z": 40448,
            "Room": 18
          }
        }
      ]
    ],
    [
      [
        {
          "Comments": "Potential new button position for the trapdoor room first floor.",
          "EMType": 41,
          "EntityIndex": 21,
          "Location": {
            "X": 50688,
            "Y": -1792,
            "Z": 40448,
            "Room": 27
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room first floor.",
          "EMType": 41,
          "EntityIndex": 21,
          "Location": {
            "X": 50688,
            "Y": -1792,
            "Z": 40448,
            "Room": 27,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room first floor.",
          "EMType": 41,
          "EntityIndex": 21,
          "Location": {
            "X": 50688,
            "Y": -1792,
            "Z": 39424,
            "Room": 27,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room first floor.",
          "EMType": 41,
          "EntityIndex": 21,
          "Location": {
            "X": 50688,
            "Y": -1792,
            "Z": 38400,
            "Room": 27,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room first floor.",
          "EMType": 41,
          "EntityIndex": 21,
          "Location": {
            "X": 50688,
            "Y": -1792,
            "Z": 38400,
            "Room": 27,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room first floor.",
          "EMType": 41,
          "EntityIndex": 21,
          "Location": {
            "X": 51712,
            "Y": -1792,
            "Z": 38400,
            "Room": 27,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room first floor.",
          "EMType": 41,
          "EntityIndex": 21,
          "Location": {
            "X": 52736,
            "Y": -1792,
            "Z": 38400,
            "Room": 27,
            "Angle": 16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the trapdoor room first floor.",
          "EMType": 41,
          "EntityIndex": 21,
          "Location": {
            "X": 52736,
            "Y": -1792,
            "Z": 39424,
            "Room": 27,
            "Angle": 16384
          }
        }
      ]
    ],
    [
      [
        {
          "Comments": "Potential new button position for the boathouse keyhole.",
          "EMType": 41,
          "EntityIndex": 28,
          "Location": {
            "X": 44544,
            "Z": 40448,
            "Room": 29
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the boathouse keyhole.",
          "EMType": 41,
          "EntityIndex": 28,
          "Location": {
            "X": 42496,
            "Z": 40448,
            "Room": 29
          }
        }
      ]
    ],
    [
      [
        {
          "Comments": "Potential new button position for the boathouse switch.",
          "EMType": 41,
          "EntityIndex": 27,
          "Location": {
            "X": 43520,
            "Z": 40448,
            "Room": 29
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the boathouse switch.",
          "EMType": 41,
          "EntityIndex": 27,
          "Location": {
            "X": 41472,
            "Z": 40448,
            "Room": 29,
            "Angle": -16384
          }
        }
      ]
    ],
    [
      [
        {
          "Comments": "Potential new button position for the switch in room 33.",
          "EMType": 41,
          "EntityIndex": 29,
          "Location": {
            "X": 45568,
            "Y": -3328,
            "Z": 44544,
            "Room": 33
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the switch in room 33.",
          "EMType": 41,
          "EntityIndex": 29,
          "Location": {
            "X": 45568,
            "Y": -3328,
            "Z": 44544,
            "Room": 33,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the switch in room 33.",
          "EMType": 41,
          "EntityIndex": 29,
          "Location": {
            "X": 50688,
            "Y": -3328,
            "Z": 44544,
            "Room": 36,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the switch in room 33.",
          "EMType": 41,
          "EntityIndex": 29,
          "Location": {
            "X": 50688,
            "Y": -3328,
            "Z": 44544,
            "Room": 36
          }
        }
      ],
      [
        {
          "Comments": "Potential new button position for the switch in room 33.",
          "EMType": 41,
          "EntityIndex": 29,
          "Location": {
            "X": 46592,
            "Y": -3072,
            "Z": 33280,
            "Room": 25,
            "Angle": -32768
          }
        }
      ]
    ],
    [
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 34304,
            "Y": -2048,
            "Z": 55808,
            "Room": 77
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 35328,
            "Y": -1792,
            "Z": 55808,
            "Room": 77
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 35328,
            "Y": -1792,
            "Z": 55808,
            "Room": 77,
            "Angle": 16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 35328,
            "Y": -1792,
            "Z": 54784,
            "Room": 77,
            "Angle": 16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 35328,
            "Y": -1792,
            "Z": 53760,
            "Room": 77,
            "Angle": 16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 35328,
            "Y": -1792,
            "Z": 52736,
            "Room": 77,
            "Angle": 16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 34304,
            "Y": -1792,
            "Z": 51712,
            "Room": 77,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 33280,
            "Y": -1792,
            "Z": 51712,
            "Room": 77,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 32256,
            "Y": -1792,
            "Z": 50688,
            "Room": 77,
            "Angle": 16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 32256,
            "Y": -1792,
            "Z": 50688,
            "Room": 77,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 31232,
            "Y": -1792,
            "Z": 50688,
            "Room": 77,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 30208,
            "Y": -1792,
            "Z": 51712,
            "Room": 77,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 30208,
            "Y": -1792,
            "Z": 54784,
            "Room": 77,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 77.",
          "EMType": 41,
          "EntityIndex": 78,
          "Location": {
            "X": 31232,
            "Y": -1792,
            "Z": 55808,
            "Room": 77
          }
        }
      ]
    ],
    [
      [
        {
          "Comments": "Potential new position for the switch in room 110.",
          "EMType": 41,
          "EntityIndex": 112,
          "Location": {
            "X": 33280,
            "Y": -768,
            "Z": 58880,
            "Room": 110,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the switch in room 110.",
          "EMType": 41,
          "EntityIndex": 112,
          "Location": {
            "X": 35328,
            "Y": -768,
            "Z": 58880,
            "Room": 110,
            "Angle": 16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the switch in room 110.",
          "EMType": 41,
          "EntityIndex": 112,
          "Location": {
            "X": 35328,
            "Y": -768,
            "Z": 57856,
            "Room": 110,
            "Angle": 16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the switch in room 110.",
          "EMType": 41,
          "EntityIndex": 112,
          "Location": {
            "X": 35328,
            "Y": -768,
            "Z": 57856,
            "Room": 110,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the switch in room 110.",
          "EMType": 41,
          "EntityIndex": 112,
          "Location": {
            "X": 34304,
            "Y": -512,
            "Z": 57856,
            "Room": 110,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the switch in room 110.",
          "EMType": 41,
          "EntityIndex": 112,
          "Location": {
            "X": 33280,
            "Y": -512,
            "Z": 57856,
            "Room": 110,
            "Angle": -32768
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the switch in room 110.",
          "EMType": 41,
          "EntityIndex": 112,
          "Location": {
            "X": 34304,
            "Y": -2304,
            "Z": 57856,
            "Room": 82,
            "Angle": -32768
          }
        }
      ]
    ],
    [
      [
        {
          "Comments": "Potential new position for the keyhole in room 81.",
          "EMType": 41,
          "EntityIndex": 88,
          "Location": {
            "X": 23040,
            "Y": -768,
            "Z": 65024,
            "Room": 81,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 81.",
          "EMType": 41,
          "EntityIndex": 88,
          "Location": {
            "X": 23040,
            "Y": -768,
            "Z": 65024,
            "Room": 81
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 81.",
          "EMType": 41,
          "EntityIndex": 88,
          "Location": {
            "X": 24064,
            "Y": -768,
            "Z": 65024,
            "Room": 81
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 81.",
          "EMType": 41,
          "EntityIndex": 88,
          "Location": {
            "X": 23040,
            "Y": -512,
            "Z": 61952,
            "Room": 81,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 81.",
          "EMType": 41,
          "EntityIndex": 88,
          "Location": {
            "X": 23040,
            "Y": -256,
            "Z": 60928,
            "Room": 81,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 81.",
          "EMType": 41,
          "EntityIndex": 88,
          "Location": {
            "X": 23040,
            "Z": 59904,
            "Room": 81,
            "Angle": -16384
          }
        }
      ],
      [
        {
          "Comments": "Potential new position for the keyhole in room 81.",
          "EMType": 41,
          "EntityIndex": 88,
          "Location": {
            "X": 23040,
            "Z": 59904,
            "Room": 81,
            "Angle": -32768
          }
        }
      ]
    ]
  ],
  "OneOf": [
    {
      "Leader": [
        {
          "Comments": "Move the first duplicated door downwards and to the other side.",
          "EMType": 44,
          "EntityIndex": 57,
          "TargetLocation": {
            "X": 46592,
            "Y": 2304,
            "Z": 47616,
            "Room": 15,
            "Angle": -32768
          }
        },
        {
          "Comments": "Move the second duplicated door downwards and to the other side.",
          "EMType": 44,
          "EntityIndex": 58,
          "TargetLocation": {
            "X": 47616,
            "Y": 2304,
            "Z": 47616,
            "Room": 15,
            "Angle": -32768
          }
        },
        {
          "Comments": "Make visibility portals between rooms 22 & 68 and 15 & 98.",
          "EMType": 81,
          "Portals": [
            {
              "BaseRoom": 22,
              "AdjoiningRoom": 68,
              "Normal": {
                "Z": -1
              },
              "Vertices": [
                {
                  "X": 1024,
                  "Y": 256,
                  "Z": 6144
                },
                {
                  "X": 1024,
                  "Y": -2048,
                  "Z": 6144
                },
                {
                  "X": 3072,
                  "Y": -2048,
                  "Z": 6144
                },
                {
                  "X": 3072,
                  "Y": 256,
                  "Z": 6144
                }
              ]
            },
            {
              "BaseRoom": 68,
              "AdjoiningRoom": 22,
              "Normal": {
                "Z": 1
              },
              "Vertices": [
                {
                  "X": 4096,
                  "Y": 256,
                  "Z": 1024
                },
                {
                  "X": 4096,
                  "Y": -1792,
                  "Z": 1024
                },
                {
                  "X": 6144,
                  "Y": -1792,
                  "Z": 1024
                },
                {
                  "X": 6144,
                  "Y": 256,
                  "Z": 1024
                }
              ]
            },
            {
              "BaseRoom": 15,
              "AdjoiningRoom": 98,
              "Normal": {
                "Z": -1
              },
              "Vertices": [
                {
                  "X": 1024,
                  "Y": 1024,
                  "Z": 6144
                },
                {
                  "X": 1024,
                  "Y": 256,
                  "Z": 6144
                },
                {
                  "X": 3072,
                  "Y": 256,
                  "Z": 6144
                },
                {
                  "X": 3072,
                  "Y": 1024,
                  "Z": 6144
                }
              ]
            },
            {
              "BaseRoom": 98,
              "AdjoiningRoom": 15,
              "Normal": {
                "Z": 1
              },
              "Vertices": [
                {
                  "X": 4096,
                  "Y": 1536,
                  "Z": 1024
                },
                {
                  "X": 4096,
                  "Y": 256,
                  "Z": 1024
                },
                {
                  "X": 6144,
                  "Y": 256,
                  "Z": 1024
                },
                {
                  "X": 6144,
                  "Y": 1536,
                  "Z": 1024
                }
              ]
            }
          ]
        },
        {
          "Comments": "Make collisional portals between rooms 22 & 68 and 15 & 98.",
          "EMType": 82,
          "Portals": {
            "22": {
              "68": [
                {
                  "X": 47551,
                  "Y": 1358,
                  "Z": 48285
                },
                {
                  "X": 46527,
                  "Y": 1358,
                  "Z": 48285
                }
              ]
            },
            "15": {
              "98": [
                {
                  "X": 47551,
                  "Y": 1358,
                  "Z": 48285
                },
                {
                  "X": 46527,
                  "Y": 1358,
                  "Z": 48285
                }
              ]
            },
            "68": {
              "22": [
                {
                  "X": 47608,
                  "Y": 256,
                  "Z": 47886
                },
                {
                  "X": 46534,
                  "Y": 256,
                  "Z": 47872
                }
              ]
            },
            "98": {
              "15": [
                {
                  "X": 47608,
                  "Y": 256,
                  "Z": 47886
                },
                {
                  "X": 46534,
                  "Y": 256,
                  "Z": 47872
                }
              ]
            }
          }
        },
        {
          "Comments": "Remove rectangles 15 and 26 from room 15.",
          "EMType": 22,
          "GeometryMap": {
            "15": {
              "Rectangles": [
                15,
                26
              ]
            }
          }
        },
        {
          "Comments": "Decrease the height of rectangles 26 and 34 in room 98 to match the geometry in room 15.",
          "EMType": 23,
          "Modifications": [
            {
              "RoomNumber": 98,
              "FaceIndex": 26,
              "VertexChanges": {
                "0": {
                  "Y": 768
                },
                "1": {
                  "Y": 256
                }
              }
            },
            {
              "RoomNumber": 98,
              "FaceIndex": 34,
              "VertexChanges": {
                "0": {
                  "Y": 768
                },
                "1": {
                  "Y": 768
                }
              }
            }
          ]
        },
        {
          "Comments": "Refacing for above to avoid squashing.",
          "EMType": 21,
          "TextureMap": {
            "1623": {
              "98": {
                "Rectangles": [
                  34
                ]
              }
            }
          }
        },
        {
          "Comments": "Default button position for the double-double doors.",
          "EMType": 41,
          "EntityIndex": 20,
          "Location": {
            "X": 49664,
            "Z": 41472,
            "Room": 20,
            "Angle": 16384
          }
        },
        {
          "Comments": "A trigger for above - open doors 17, 18, 57 and 58.",
          "EMType": 61,
          "Locations": [
            {
              "X": 49664,
              "Z": 41472,
              "Room": 20
            }
          ],
          "Trigger": {
            "TrigType": 2,
            "Mask": 31,
            "SwitchOrKeyRef": 20,
            "Actions": [
              {
                "Parameter": 17
              },
              {
                "Parameter": 18
              },
              {
                "Parameter": 57
              },
              {
                "Parameter": 58
              }
            ]
          }
        },
        {
          "Comments": "Add a camera for above",
          "EMType": 65,
          "Camera": {
            "X": 54256,
            "Y": -512,
            "Z": 51336,
            "Room": 79
          },
          "LookAtItem": 17,
          "AttachToItems": [
            20
          ],
          "CameraAction": {
            "Value": 2,
            "Timer": 2,
            "Continue": true
          }
        },
        {
          "Comments": "A glitched secret may be in the hidden room 152, so move it as this is no longer reachable.",
          "EMType": 43,
          "Types": [
            190
          ],
          "SectorLocations": [
            {
              "X": 46181,
              "Y": 256,
              "Z": 47205,
              "Room": 152
            }
          ],
          "TargetLocation": {
            "X": 63589,
            "Y": -4403,
            "Z": 59493,
            "Room": 111
          }
        }
      ],
      "Followers": [
        [
          {
            "Comments": "NOOP - use the default button position.",
            "EMType": 1000
          }
        ],
        [
          {
            "Comments": "Potential new button position for the double-double doors button.",
            "EMType": 41,
            "EntityIndex": 20,
            "Location": {
              "X": 49664,
              "Z": 42496,
              "Room": 20,
              "Angle": 16384
            }
          }
        ],
        [
          {
            "Comments": "Potential new button position for the double-double doors button.",
            "EMType": 41,
            "EntityIndex": 20,
            "Location": {
              "X": 49664,
              "Z": 40448,
              "Room": 20,
              "Angle": 16384
            }
          }
        ],
        [
          {
            "Comments": "Potential new button position for the double-double doors button.",
            "EMType": 41,
            "EntityIndex": 20,
            "Location": {
              "X": 49664,
              "Z": 38400,
              "Room": 20,
              "Angle": 16384
            }
          }
        ],
        [
          {
            "Comments": "Potential new button position for the double-double doors button.",
            "EMType": 41,
            "EntityIndex": 20,
            "Location": {
              "X": 58880,
              "Z": 31232,
              "Angle": 16384
            }
          }
        ],
        [
          {
            "Comments": "Potential new button position for the double-double doors button.",
            "EMType": 41,
            "EntityIndex": 20,
            "Location": {
              "X": 47600,
              "Y": -4096,
              "Z": 32256,
              "Room": 34,
              "Angle": -16384
            }
          }
        ]
      ]
    }
  ],
  "ConditionalAllWithin": [],
  "ConditionalAll": [
    {
      "Condition": {
        "Comments": "If Marco has been added, make a new room for him and move him to it. This changes the way the level must be finished.",
        "ConditionType": 0,
        "EntityIndex": 115,
        "EntityType": 40
      },
      "OnTrue": [
        {
          "Comments": "Make a room suitable for Marco.",
          "EMType": 125,
          "LevelID": "XIAN.TR2",
          "RoomNumber": 18,
          "NewLocation": {
            "X": 58368,
            "Y": 5376,
            "Z": 65536
          },
          "LinkedLocation": {
            "X": 59910,
            "Y": 512,
            "Z": 67092,
            "Room": 147
          },
          "RectangleTexture": 65535,
          "TriangleTexture": 65535
        },
        {
          "Comments": "Make a collisional portal for the new room.",
          "EMType": 83,
          "Ceiling": {
            "X": 59904,
            "Y": 512,
            "Z": 67072,
            "Room": 147
          },
          "Floor": {
            "X": 59904,
            "Y": 5376,
            "Z": 67072,
            "Room": 155
          }
        },
        {
          "Comments": "Make visibility portals.",
          "EMType": 81,
          "Portals": [
            {
              "BaseRoom": 155,
              "AdjoiningRoom": 147,
              "Normal": {
                "Y": 1
              },
              "Vertices": [
                {
                  "X": 2048,
                  "Y": 512,
                  "Z": 2048
                },
                {
                  "X": 1024,
                  "Y": 512,
                  "Z": 2048
                },
                {
                  "X": 1024,
                  "Y": 512,
                  "Z": 1024
                },
                {
                  "X": 2048,
                  "Y": 512,
                  "Z": 1024
                }
              ]
            },
            {
              "BaseRoom": 147,
              "AdjoiningRoom": 155,
              "Normal": {
                "Y": -1
              },
              "Vertices": [
                {
                  "X": 4096,
                  "Y": 512,
                  "Z": 4096
                },
                {
                  "X": 3072,
                  "Y": 512,
                  "Z": 4096
                },
                {
                  "X": 3072,
                  "Y": 512,
                  "Z": 5120
                },
                {
                  "X": 4096,
                  "Y": 512,
                  "Z": 5120
                }
              ]
            }
          ]
        },
        {
          "Comments": "Make a ladder to get in and out.",
          "EMType": 0,
          "TextureMap": {
            "1565": {
              "155": {
                "Rectangles": [
                  5,
                  6,
                  7
                ]
              }
            }
          },
          "Location": {
            "X": 59904,
            "Y": 5376,
            "Z": 67072,
            "Room": 155
          },
          "IsNegativeZ": true
        },
        {
          "Comments": "Remove a couple of faces for the portal.",
          "EMType": 22,
          "GeometryMap": {
            "155": {
              "Rectangles": [
                1
              ]
            },
            "147": {
              "Rectangles": [
                43
              ]
            }
          }
        },
        {
          "Comments": "Convert a door into a trapdoor, move it to the new room and add a trapdoor trigger.",
          "EMType": 45,
          "EntityIndex": 64,
          "NewEntityType": 114
        },
        {
          "EMType": 48,
          "EntityIndex": 64,
          "Flags": 0
        },
        {
          "EMType": 44,
          "EntityIndex": 64,
          "TargetLocation": {
            "X": 59904,
            "Y": 512,
            "Z": 67072,
            "Room": 155,
            "Angle": 16384
          }
        },
        {
          "EMType": 61,
          "Locations": [
            {
              "X": 59904,
              "Y": 5376,
              "Z": 67072,
              "Room": 155
            }
          ],
          "Trigger": {
            "TrigType": 8,
            "Mask": 31,
            "Actions": [
              {
                "Parameter": 64
              }
            ]
          }
        },
        {
          "Comments": "Move Marco.",
          "EMType": 44,
          "EntityIndex": 115,
          "TargetLocation": {
            "X": 69120,
            "Y": 5120,
            "Z": 76288,
            "Room": 155,
            "Angle": -16384
          }
        },
        {
          "Comments": "Add heavy triggers to open the final doors.",
          "EMType": 61,
          "Rooms": [
            155
          ],
          "Trigger": {
            "TrigType": 5,
            "Mask": 31,
            "Actions": [
              {
                "Parameter": 73
              },
              {
                "Parameter": 74
              },
              {
                "Parameter": 76
              }
            ]
          }
        },
        {
          "Comments": "Add a camera for above (re-use the original).",
          "EMType": 65,
          "CameraIndex": 7,
          "LookAtItem": 75,
          "AttachToRooms": [
            155
          ],
          "CameraAction": {
            "Value": 2,
            "Timer": 2,
            "Continue": true
          }
        },
        {
          "Comments": "Remove all the old triggers for the enemy and doors.",
          "EMType": 62,
          "Rooms": [
            103,
            129,
            130
          ]
        },
        {
          "Comments": "Make a new trigger for the trapdoor and Marco.",
          "EMType": 61,
          "Locations": [
            {
              "X": 86528,
              "Z": 60928,
              "Room": 129
            }
          ],
          "Trigger": {
            "TrigType": 2,
            "OneShot": true,
            "Mask": 31,
            "SwitchOrKeyRef": 116,
            "Actions": [
              {
                "Parameter": 64
              },
              {
                "Parameter": 115
              },
              {
                "Action": 8,
                "Parameter": 40
              }
            ]
          }
        },
        {
          "Comments": "Add a camera for above",
          "EMType": 65,
          "Camera": {
            "X": 62176,
            "Y": 3047,
            "Z": 72000,
            "Room": 155
          },
          "LookAtItem": 64,
          "AttachToItems": [
            116
          ],
          "CameraAction": {
            "Value": 2,
            "Timer": 2,
            "Continue": true
          }
        }
      ]
    }
  ],
  "Mirrored": []
}